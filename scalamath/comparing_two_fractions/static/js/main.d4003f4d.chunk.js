(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,r){t.exports=r(19)},17:function(t,e,r){},19:function(t,e,r){"use strict";r.r(e);var s,a,o,n=r(1),i=r.n(n),c=r(10),h=r.n(c),u=(r(17),r(3)),d=r(4),l=r(6),p=r(5),m=r(7),b=r(2),g={name:"Comparing Two Fractions",media:"images-interactive",audio_abbrev:"cotf_narration",img_abbrev:"sbs_cotf",reflect_suganswer:"If you have 3/2 inches and 3/2 feet, you cannot say that the two fractions are equal, because they are fractions of different wholes. For the first fraction, 1 whole is 1 inch. For the second fraction, 1 whole is 1 foot.",reflect_suganswer2:"",reflectQ:"Why do two fractions have to be fractions of the same whole before you compare them?",steps:[{label:"start",testLabel:"Part 1",text:"You can compare two fractions of the same whole. Right now, you will compare two fractions that have the same numerators or the same denominators.",test:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test2:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test3:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test4:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test5:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test6:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test7:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test8:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",test9:"Look at the fractions. Are the denominators the same, the numerators the same, or are they both the same? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerator, \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominator, or \\(\\mathtt{\\color{blue}{\\text{B}}}\\) for both in the Write area to answer the question. Then tap Submit.",id:"1",order:1,audio:"cotf_narration1.mp3"},{label:"part 1",testLabel:"Part 2",text:"First, look at the denominators. If the denominators are the same, compare the numerators. What are the numerators?",test:"Since the numerators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test2:"Since the denominators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test3:"Since the numerators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test4:"Since the numerators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test5:"Since the numerators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test6:"Since the denominators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test7:"Since the denominators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test8:"Since the numerators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",test9:"Since the denominators are the same, what do you compare--the numerators or the denominators? Write \\(\\mathtt{\\color{blue}{\\text{N}}}\\) for numerators or \\(\\mathtt{\\color{blue}{\\text{D}}}\\) for denominators in the Write area to answer the question. Then tap Submit.",id:"2",order:2,audio:"cotf_narration2.mp3"},{label:"part 2",testLabel:"Part 3",text:'The fraction with the greater numerator is the bigger fraction. The fraction with the lesser numerator is the smaller fraction. The symbol < is read as "is less than."',test:"Compare the denominators. Write the greater denominator in the Write area. Then tap Submit.",test2:"Compare the numerators. Write the greater numerator in the Write area. Then tap Submit.",test3:"Compare the denominators. Write the greater denominator in the Write area. Then tap Submit.",test4:"Compare the denominators. Write the lesser denominator in the Write area. Then tap Submit.",test5:"Compare the denominators. Write the lesser denominator in the Write area. Then tap Submit.",test6:"Compare the numerators. Write the lesser numerator in the Write area. Then tap Submit.",test7:"Compare the numerators. Write the greater numerator in the Write area. Then tap Submit.",test8:"Compare the denominators. Write the greater denominator in the Write area. Then tap Submit.",test9:"Compare the numerators. Write the greater numerator in the Write area. Then tap Submit.",id:"3",order:3,audio:"cotf_narration3.mp3"},{label:"part 3",testLabel:"Part 4",text:"If the denominators are different but the numerators are the same, compare the denominators. What are the denominators here?",test:"The number with the greater denominator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test2:"The number with the greater numerator is the greater number. Write the bigger fraction in the Write area. Then tap Submit.",test3:"The number with the greater denominator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test4:"The number with the lesser denominator is the larger number. Write the larger fraction in the Write area. Then tap Submit.",test5:"The number with the lesser denominator is the larger number. Write the larger fraction in the Write area. Then tap Submit.",test6:"The number with the lesser numerator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test7:"The number with the greater numerator is the larger number. Write the larger fraction in the Write area. Then tap Submit.",test8:"The number with the greater denominator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test9:"The number with the greater numerator is the larger number. Write the larger fraction in the Write area. Then tap Submit.",id:"4",order:4,audio:"cotf_narration4.mp3"},{label:"part 4",testLabel:"Part 5",text:'For the denominators, it\'s all reversed. When the fractions have the same numerator, the number with the bigger denominator is the smaller number. And the number with the smaller denominator is the bigger number. The symbol > is read as "is greater than."',test:"The number with the lesser denominator is the bigger number. Write the bigger fraction in the Write area. Then tap Submit.",test2:"The number with the lesser numerator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test3:"The number with the lesser denominator is the bigger number. Write the bigger fraction in the Write area. Then tap Submit.",test4:"The number with the greater denominator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test5:"The number with the greater denominator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test6:"The number with the greater numerator is the larger number. Write the larger fraction in the Write area. Then tap Submit.",test7:"The number with the lesser numerator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",test8:"The number with the lesser numerator is the larger number. Write the larger fraction in the Write area. Then tap Submit.",test9:"The number with the lesser numerator is the smaller number. Write the smaller fraction in the Write area. Then tap Submit.",id:"5",order:5,audio:"cotf_narration5.mp3"},{label:"end",testLabel:"Part 6",text:"If two fractions have the same numerator and the same denominator, then of course they're equal! You already know that symbol.",test:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test2:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test3:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test4:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test5:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test6:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test7:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test8:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',test9:'The symbol \\(\\mathtt{>}\\) means "is greater than." The symbol \\(\\mathtt{<}\\) means "is less than." The symbol \\(\\mathtt{=}\\) means "is equal to." Write a correct inequality in the Write area to compare the fractions. Then tap Submit.',id:"6",order:6,audio:"cotf_narration6.mp3"}]},w=r(0),f=r.n(w),k=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={},t}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){f()("#steptext".concat(this.props.order)).html(this.props.text)}},{key:"render",value:function(){var t,e,r,s,a,o,n;return"learn"===this.props.curmode?(a="\u2191",o="\u21ba",this.props.order<this.props.curbut?(t={pointerEvents:"none",backgroundColor:"white",color:"black"},e={backgroundColor:this.props.primcolor}):this.props.order===this.props.curbut?(t={pointerEvents:"all",backgroundColor:this.props.discolor,color:"gray"},e={backgroundColor:this.props.dislabel},s={filter:"blur(3px)"}):(t={pointerEvents:"none",backgroundColor:this.props.discolor,color:"gray"},e={backgroundColor:this.props.dislabel},s={filter:"blur(3px)"}),r=n=this.props.order===this.props.curbut-1&&this.props.curbut>1?{visibility:"visible",cursor:"pointer",pointerEvents:"all"}:{visibility:"hidden",cursor:"none",pointerEvents:"none"}):(r={visibility:"visible",cursor:"none",pointerEvents:"none"},n={visibility:"hidden",cursor:"none",pointerEvents:"none"},this.props.order>this.props.curmark?(t={pointerEvents:"none",backgroundColor:this.props.discolor,color:"gray"},e={backgroundColor:this.props.dislabel},s={filter:"blur(3px)"},a=""):this.props.order===this.props.curmark?(t={pointerEvents:"none",backgroundColor:"white",color:"black"},e={backgroundColor:this.props.primcolor},a="\u25ef"):(t={pointerEvents:"none",backgroundColor:"white"},e={backgroundColor:this.props.primcolor},a="\u2714\ufe0f")),i.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-width-1-1@m uk-margin-small-bottom",id:"card".concat(this.props.order),onClick:this.props.handler,style:t},i.a.createElement("div",null,i.a.createElement("span",{className:"arrow",onClick:this.props.upone,style:r},a),i.a.createElement("span",{className:"reparrow",onClick:this.props.repstep,style:n},o),i.a.createElement("span",{className:"uk-label",style:e},this.props.label)," ",i.a.createElement("p",{className:"step-text",id:"steptext".concat(this.props.order),style:s},this.props.text)))}}]),e}(n.Component),v=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={response:!1,curSimScore:null},t.compareAnswers=t.compareAnswers.bind(Object(b.a)(t)),t.clearAnswer=t.clearAnswer.bind(Object(b.a)(t)),t}return Object(m.a)(e,t),Object(d.a)(e,[{key:"compareAnswers",value:function(){var t,e=f()("#reflectQuestion").val(),r=this.props.suganswer;f()("#reflectQuestion").val("");var s=new XMLHttpRequest,a="https://api.dandelion.eu/datatxt/sim/v1/?text1=".concat(e,"&text2=").concat(r,"&token=a4afc7d8c8c74f53820d3691f00c731d");s.open("GET",a),s.send(),s.onreadystatechange=function(a){var o=s.responseText.indexOf("similarity")+12,n=s.responseText.indexOf('"lang":'),i=s.responseText.slice(o,n-1);t=(100*Number(i)).toFixed(2),isNaN(t)&&(t=0),f()("#modal-score").text("Score: ".concat(t," points out of 100.")),f()("#stu-answer").html("<strong>Your answer</strong><br /><i>".concat(e,"</i>")),f()("#sug-answer").html("<strong>Suggested answer</strong><br />".concat(r))},this.setState({response:!0})}},{key:"clearAnswer",value:function(){f()("#reflectQuestion").val(""),this.setState({response:!1})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("textarea",{id:"reflectQuestion",placeholder:this.props.reflectQ,className:"uk-width-1-1@m",style:{width:"81%",marginBottom:10,resize:"none",fontSize:"0.8em",minHeight:"8vh",border:"none",boxSizing:"border-box",padding:"5px 5px 5px 10px",outline:"none"}}),i.a.createElement("button",{onClick:this.compareAnswers,className:"uk-button uk-button-default uk-button-small","uk-toggle":"target: #modal-reflect",style:{minHeight:"8vh",float:"right",borderTopRightRadius:5,borderBottomRightRadius:5,boxShadow:"0 0 3px #aaa",border:"none",width:"15%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",fontSize:"1.2vmax"}},"check"),i.a.createElement("div",{id:"modal-reflect","uk-modal":"true"},i.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},i.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true",onClick:this.clearAnswer}),i.a.createElement("h4",{className:"uk-modal-title",id:"modal-score"}," "),i.a.createElement("p",{className:"uk-text-justify",id:"stu-answer"}),i.a.createElement("p",{className:"uk-text-justify",id:"sug-answer"}))))}}]),e}(n.Component),y=r(11),S=(r(18),{position:"fixed",top:"0px",right:"10px",height:"18px",outline:"none",fontVariant:"small-caps",backgroundColor:"#D3D3D3",color:"white",border:"none",borderBottomLeftRadius:5,borderBottomRightRadius:5,width:"20px",cursor:"pointer",zIndex:"100",paddingBottom:"2",boxShadow:"0px 1px 3px #ccc"}),A=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={},t.clearMeter=t.clearMeter.bind(Object(b.a)(t)),t}return Object(m.a)(e,t),Object(d.a)(e,[{key:"clearMeter",value:function(){window.confirm("Reset the Practice Meter?")&&(localStorage.removeItem("cotfMeter"),localStorage.removeItem("firstTested_cotf"),localStorage.removeItem("lastTested_cotf"),window.location.reload())}},{key:"render",value:function(){var t;return this.props.meterlevel<=20?t="rgba(255, 0, 0, 0.5)":this.props.meterlevel>20&&this.props.meterlevel<80?t="rgba(255, 255, 0, 0.5)":this.props.meterlevel>=80&&(t="rgba(0, 255, 0, 0.5)"),i.a.createElement("div",null,i.a.createElement("div",{id:"pmeter"},i.a.createElement("div",{id:"pmeterBar",style:{width:"".concat(this.props.meterlevel,"%"),backgroundColor:t}}),i.a.createElement("button",{id:"resetMeter",onClick:this.clearMeter,style:S},"\xd7")))}}]),e}(n.Component),T=null,x=null,E=null,H={width:"100%",height:"100%",touchAction:"none"},N={width:"15vh",height:"15vh",fontFamily:"sans-serif",fontSize:"1.25em",textAlign:"center",outline:"none",boxShadow:"0 0 3px #ccc",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fafafa",color:"black"},W={position:"absolute",bottom:0,right:0,backgroundColor:"rgba(21, 160, 133, 0.5)",color:"white",fontFamily:"Rubik",fontSize:"0.9em",fontVariant:"small-caps",borderTopLeftRadius:"4px",width:"75px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center"},O={position:"absolute",top:0,right:0,backgroundColor:"rgba(21, 160, 133, 0.5)",color:"white",fontFamily:"Rubik",fontSize:"0.9em",fontVariant:"small-caps",borderBottomLeftRadius:"4px",width:"75px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center"},C={position:"absolute",bottom:"0px",right:"0px",height:"25px",boxShadow:"0 0 2px #ccc",outline:"none",fontVariant:"small-caps",backgroundColor:"#fafafa",color:"gray",border:"none",width:"75px",borderTopLeftRadius:"4px",cursor:"pointer",zIndex:"100"},I={position:"absolute",bottom:"35px",right:"0px",height:"25px",boxShadow:"0 0 2px #ccc",outline:"none",fontVariant:"small-caps",backgroundColor:"#fafafa",color:"gray",border:"none",width:"75px",borderTopLeftRadius:"4px",cursor:"pointer",zIndex:"100"},B=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={storedAnswer:null,curLevel:0,pointsPer:5,SOCKETON:!1,numusers:0,is_teacher:!1,users:{},nnames:{},curAssigned:!1,teacher_exists:!1},t.handleAnswers=t.handleAnswers.bind(Object(b.a)(t)),t.clearAnswer=t.clearAnswer.bind(Object(b.a)(t)),t.storeAnswer=t.storeAnswer.bind(Object(b.a)(t)),t.startSocket=t.startSocket.bind(Object(b.a)(t)),t.receiveUser=t.receiveUser.bind(Object(b.a)(t)),t.endUser=t.endUser.bind(Object(b.a)(t)),t.sendAssign=t.sendAssign.bind(Object(b.a)(t)),t.receiveAssign=t.receiveAssign.bind(Object(b.a)(t)),t}return Object(m.a)(e,t),Object(d.a)(e,[{key:"handleMathAnswer",value:function(t){var e=(t.detail.exports||{})["application/x-latex"]||"";this.storeAnswer(e),this.state.SOCKETON&&T.send(JSON.stringify({action:"math-answer",msg:e}))}},{key:"componentDidMount",value:function(){var t=this;this.editor=y.a(this.refs.editor,{recognitionParams:{type:"MATH",protocol:"WEBSOCKET",apiVersion:"V4",server:{scheme:"https",host:"webdemoapi.myscript.com",applicationKey:"1463c06b-251c-47b8-ad0b-ba05b9a3bd01",hmacKey:"60ca101a-5e6d-4159-abc5-2efcbecce059"}}}),document.getElementById("updateTest").addEventListener("click",this.sendNewTest.bind(this)),window.addEventListener("resize",function(){t.editor.resize()}),document.getElementById("input-area").addEventListener("exported",this.handleMathAnswer.bind(this)),window.addEventListener("touchmove",function(){}),window.addEventListener("beforeunload",function(){T.send(JSON.stringify({action:"userend",userID:x}))});var e=localStorage.getItem("cotfMeter");if(null===e)localStorage.setItem("cotfMeter","0");else{var r=Number(e),s=localStorage.getItem("firstTested_cotf"),a=localStorage.getItem("lastTested_cotf");if(null!==s){this.props.tested(!0);var o=(new Date).getTime(),n=(o-s)/1e3/60/60/24,i=(o-a)/1e3/60/60/24;n<7?r=Math.ceil(r*Math.pow(.75,i)):n>=7&&n<28?r=Math.ceil(r*Math.pow(.91,i)):n>=28&&n<60?r=Math.ceil(r*Math.pow(.95,i)):n>=60&&(r=Math.ceil(r*Math.pow(.99,i)))}this.setState({curLevel:r,pointsPer:Math.floor((100-r)/18)})}}},{key:"componentWillUnmount",value:function(){clearInterval(s)}},{key:"storeAnswer",value:function(t){f()("#answerInput").html("\\(\\mathtt{".concat(t,"}\\)")),this.setState({storedAnswer:t}),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])}},{key:"sendNewTest",value:function(){this.state.is_teacher&&T.send(JSON.stringify({action:"advance-test"}))}},{key:"receiveNewTest",value:function(){f()("#updateTest").trigger("click")}},{key:"handleMessage",value:function(t){if(this.state.SOCKETON){var e=JSON.parse(t.data);"math-answer"===e.action?this.storeAnswer(e.msg):"submit"===e.action?this.handleReceiveAnswers():"clear"===e.action?this.clearReceive():"usercheck"===e.action?this.receiveUser(e.userID,e.nname,e.tExist):"userend"===e.action?this.endUser(e.userID):"assign"===e.action?this.receiveAssign(e.userID):"unassign"===e.action?this.receiveUnassign():"advance-test"===e.action?this.receiveNewTest():"emit-state"===e.action&&this.props.updatestate(e.testnum,e.curans)}}},{key:"startSocket",value:function(t){var e=f()("#socketID").val(),r=(new Date).getTime();null!==e.match(/[A-Za-z0-9_-]+[T$]$/g)&&(e=e.slice(0,-2),f()("#socketID").val(e),this.setState({is_teacher:!0,teacher_exists:r})),""!==e&&null===e.match(/[^A-Za-z0-9_-]+/g)&&(""===(E=f()("#nickname").val())&&(E="*"),(T=new WebSocket("wss://connect.websocket.in/comparing2fractions?room_id="+e)).addEventListener("message",this.handleMessage.bind(this)),this.setState({SOCKETON:!0}),window.UIkit.modal(document.getElementById("modal-example")).hide(),x=String(Math.floor(1e6*Math.random())),s=setInterval(function(){T.send(JSON.stringify({action:"usercheck",userID:x,nname:E,tExist:r}))},2e3))}},{key:"receiveUser",value:function(t,e,r){for(var s in this.state.users)if(this.state.users[s]===t)return;var a=this.state.users;a[String(this.state.numusers+1)]=t;var o=this.state.nnames;o[String(this.state.numusers+1)]=e,this.setState({numusers:this.state.numusers+1,users:a,nnames:o}),r<this.state.teacher_exists&&this.setState({is_teacher:!1,teacher_exists:!0})}},{key:"endUser",value:function(t){this.state.curAssigned===t&&T.send(JSON.stringify({action:"unassign"})),f()("#"+t).css({"pointer-events":"none",visibility:"hidden"}),f()("#"+t).prop("disabled",!0)}},{key:"handleAnswers",value:function(){if(""!==this.state.storedAnswer){this.state.SOCKETON&&T.send(JSON.stringify({action:"submit"}));var t=this.state.storedAnswer.indexOf("{")+1,e=this.state.storedAnswer.indexOf("}"),r=this.state.storedAnswer.indexOf("{",t)+1,s=this.state.storedAnswer.indexOf("}",e+1),a=Number(this.state.storedAnswer.slice(t,e)),n=Number(this.state.storedAnswer.slice(r,s)),i=this.state.storedAnswer;this.props.testnum%this.props.pnum===1?1===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"3"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?4===a&&3===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?4===a&&1===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {4}{3} <\\dfrac {4}{1}"===i||"\\dfrac {4}{1} >\\dfrac {4}{3}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===2?1===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"5"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?5===a&&8===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?2===a&&8===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {2}{8} <\\dfrac {5}{8}"===i||"\\dfrac {5}{8} >\\dfrac {2}{8}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===3?1===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"9"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?3===a&&9===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?3===a&&8===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{8}"===i||"\\dfrac {3}{8} >\\dfrac {3}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===4?1===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"3"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?3===a&&3===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?3===a&&9===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{3}"===i||"\\dfrac {3}{3} >\\dfrac {3}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===5?1===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"5"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?1===a&&5===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?1===a&&7===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {1}{7} <\\dfrac {1}{5}"===i||"\\dfrac {1}{5} >\\dfrac {1}{7}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===6?1===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"4"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?4===a&&4===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?8===a&&4===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {4}{4} <\\dfrac {8}{4}"===i||"\\dfrac {8}{4} >\\dfrac {4}{4}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===7?1===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"5"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?5===a&&6===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?4===a&&6===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {4}{6} <\\dfrac {5}{6}"===i||"\\dfrac {5}{6} >\\dfrac {4}{6}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===8?1===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"9"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?8===a&&9===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?8===a&&8===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {8}{9} <\\dfrac {8}{8}"===i||"\\dfrac {8}{8} >\\dfrac {8}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===0&&(1===this.props.curans?"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"9"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?9===a&&5===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?6===a&&5===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {6}{5} <\\dfrac {9}{5}"===i||"\\dfrac {9}{5} >\\dfrac {6}{5}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"))),this.state.is_teacher&&(clearInterval(o),o=setInterval(function(){var t=this.props.testnum,e=this.props.curans;T.send(JSON.stringify({action:"emit-state",testnum:t,curans:e}))}.bind(this),2500))}}},{key:"handleReceiveAnswers",value:function(){if(""!==this.state.storedAnswer){var t=this.state.storedAnswer.indexOf("{")+1,e=this.state.storedAnswer.indexOf("}"),r=this.state.storedAnswer.indexOf("{",t)+1,s=this.state.storedAnswer.indexOf("}",e+1),a=Number(this.state.storedAnswer.slice(t,e)),o=Number(this.state.storedAnswer.slice(r,s)),n=this.state.storedAnswer;this.props.testnum%this.props.pnum===1?1===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"3"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?4===a&&3===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?4===a&&1===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {4}{3} <\\dfrac {4}{1}"===n||"\\dfrac {4}{1} >\\dfrac {4}{3}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===2?1===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"5"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?5===a&&8===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?2===a&&8===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {2}{8} <\\dfrac {5}{8}"===n||"\\dfrac {5}{8} >\\dfrac {2}{8}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===3?1===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"9"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?3===a&&9===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?3===a&&8===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{8}"===n||"\\dfrac {3}{8} >\\dfrac {3}{9}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===4?1===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"3"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?3===a&&3===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?3===a&&9===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{3}"===n||"\\dfrac {3}{3} >\\dfrac {3}{9}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===5?1===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"5"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?1===a&&5===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?1===a&&7===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {1}{7} <\\dfrac {1}{5}"===n||"\\dfrac {1}{5} >\\dfrac {1}{7}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===6?1===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"4"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?4===a&&4===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?8===a&&4===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {4}{4} <\\dfrac {8}{4}"===n||"\\dfrac {8}{4} >\\dfrac {4}{4}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===7?1===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"5"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?5===a&&6===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?4===a&&6===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {4}{6} <\\dfrac {5}{6}"===n||"\\dfrac {5}{6} >\\dfrac {4}{6}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===8?1===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"9"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?8===a&&9===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?8===a&&8===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {8}{9} <\\dfrac {8}{8}"===n||"\\dfrac {8}{8} >\\dfrac {8}{9}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")):this.props.testnum%this.props.pnum===0&&(1===this.props.curans?"D"===n||"d"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):2===this.props.curans?"N"===n||"n"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):3===this.props.curans?"9"===n?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):4===this.props.curans?9===a&&5===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):5===this.props.curans?6===a&&5===o?(this.props.correctans(),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red"):6===this.props.curans&&("\\dfrac {6}{5} <\\dfrac {9}{5}"===n||"\\dfrac {9}{5} >\\dfrac {6}{5}"===n?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):f()("#submitHandwriting").css("background-color","red")))}}},{key:"updateScore",value:function(){if(!this.state.SOCKETON){var t=(new Date).getTime();localStorage.setItem("lastTested_cotf",t),null===localStorage.getItem("firstTested_cotf")&&localStorage.setItem("firstTested_cotf",t);var e=this.state.curLevel+this.state.pointsPer;e>100&&(e=100),this.setState({curLevel:e}),localStorage.setItem("cotfMeter",e)}}},{key:"clearAnswer",value:function(){this.editor.clear(),f()("#answerInput").html(""),f()("#submitHandwriting").css("background-color","#fafafa"),this.state.SOCKETON&&T.send(JSON.stringify({action:"clear"}))}},{key:"clearReceive",value:function(){this.editor.clear(),f()("#answerInput").html(""),f()("#submitHandwriting").css("background-color","#fafafa")}},{key:"sendAssign",value:function(t){var e="teacher"===this.state.curAssigned;return"ban-button"===t.currentTarget.id&&this.state.is_teacher&&!e?(f()("#ban-button").css({"background-color":"rgba(255, 0, 0, 0.8)"}),f()(".userbutton").css({"background-color":"lightblue"}),this.setState({curAssigned:"teacher"}),void(a=setInterval(function(){T.send(JSON.stringify({action:"assign",userID:"teacher"}))},2e3))):"ban-button"===t.currentTarget.id&&this.state.is_teacher&&e?(f()("#ban-button").css({"background-color":"lightblue"}),T.send(JSON.stringify({action:"unassign"})),this.setState({curAssigned:!1}),void clearInterval(a)):void("rgb(144, 238, 144)"!==f()("#"+t.currentTarget.id).css("background-color")?(clearInterval(a),f()("#ban-button").css({"background-color":"lightblue"}),f()("#"+t.currentTarget.id).css({"background-color":"lightgreen"}),f()(".userbutton").not("#"+t.currentTarget.id).css({"background-color":"lightblue"}),T.send(JSON.stringify({action:"assign",userID:t.currentTarget.id})),this.setState({curAssigned:t.currentTarget.id})):(f()("#ban-button").css({"background-color":"lightblue"}),f()("#"+t.currentTarget.id).css({"background-color":"lightblue"}),T.send(JSON.stringify({action:"unassign"})),this.setState({curAssigned:!1})))}},{key:"receiveAssign",value:function(t){x===t&&!1===this.state.curAssigned?(f()("#coverCanvas").css({display:"none"}),f()("#assignModal").trigger("click"),this.setState({curAssigned:!0})):x===t&&!0===this.state.curAssigned?this.setState({curAssigned:!1}):x!==t&&(f()("#coverCanvas").css({display:"inline"}),this.setState({curAssigned:!1}))}},{key:"receiveUnassign",value:function(){f()("#coverCanvas").css({display:"none"}),this.setState({curAssigned:!1})}},{key:"render",value:function(){var t,e,r=[];t=this.props.testnum%this.props.pnum===0?this.props.pnum:this.props.testnum%this.props.pnum,e=this.state.SOCKETON?{backgroundColor:"#00ff00"}:{backgroundColor:"#D3D3D3"},this.state.is_teacher&&(e={backgroundColor:"#ff00ff"});for(var s=Object.keys(this.state.users),a=Object.keys(this.state.nnames),o=0;o<s.length;o++){var n=35*(o+1)+15;r.push(i.a.createElement("button",{className:"userbutton uk-animation-slide-top",key:o,id:this.state.users[s[o]],"uk-tooltip":"title: ".concat(this.state.nnames[a[o]]),style:{left:n},onClick:this.sendAssign},i.a.createElement("span",{"uk-icon":"happy"})))}return i.a.createElement("div",{id:"interactive","uk-grid":"true",className:"uk-grid-collapse"},i.a.createElement("div",{id:"imgs",className:"uk-width-1-3",style:{borderRight:"1px solid lightgray",position:"relative"}},i.a.createElement("div",{style:W},"fractions"),i.a.createElement("img",{src:"sbs_cotf_test".concat(t,".svg"),alt:"",style:{height:"85%"}})),i.a.createElement("div",{id:"input-output",className:"uk-width-2-3",style:{height:"100%",touchAction:"none"}},i.a.createElement("div",{id:"output",style:{borderBottom:"1px solid lightgray",height:"35%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},i.a.createElement("div",{style:O},"answer"),i.a.createElement("div",{id:"answerInput",style:N})),i.a.createElement("div",{id:"input-area",style:{height:"65%",position:"relative"}},i.a.createElement("div",{style:O},"write"),i.a.createElement("div",{style:H,ref:"editor","touch-action":"none"}),i.a.createElement("button",{id:"clearHandwriting",onClick:this.clearAnswer,style:C},"clear"),i.a.createElement("button",{id:"submitHandwriting",onClick:this.handleAnswers,style:I},"submit"))),i.a.createElement("button",{id:"openModal",type:"button","uk-toggle":"target: #modal-example",style:e},i.a.createElement("span",{"uk-icon":"more"})),i.a.createElement("button",{id:"assignModal",type:"button","uk-toggle":"target: #modal-assign",style:{display:"none"}}),i.a.createElement("div",{id:"modal-example","uk-modal":"true"},i.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},i.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),i.a.createElement("h4",{className:"uk-modal-title"},"Guided Practice"),i.a.createElement("p",{className:"uk-text-justify"},"Enter a Room ID (e.g., mrscala_203). Then click to join an interactive practice session. If you are leading, share the ID for others to join. If you are joining, enter the ID shared with you and enter a name if you want to."),i.a.createElement("p",{className:"uk-text-right"},i.a.createElement("input",{id:"socketID",placeholder:"Room ID"})),i.a.createElement("p",{className:"uk-text-right"},i.a.createElement("input",{id:"nickname",placeholder:"Name | Nickname",maxLength:"10"})),i.a.createElement("p",{className:"uk-text-justify"},"Entering numbers, letters, hyphens, and underscore characters is okay, up to a maximum of 20 characters."),i.a.createElement("p",{className:"uk-text-right"},i.a.createElement("button",{className:"uk-button uk-button-primary",type:"button",onClick:this.startSocket},"Join Session")))),i.a.createElement("div",{id:"modal-assign","uk-modal":"true"},i.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},i.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),i.a.createElement("h4",{className:"uk-modal-title"},"Your Turn"),i.a.createElement("p",{className:"uk-text-justify"},"You're up! You have been selected to show your work. Go get 'em!"))),this.state.is_teacher?r:null,this.state.is_teacher?i.a.createElement("button",{className:"banbutton",id:"ban-button",style:{left:5},onClick:this.sendAssign},i.a.createElement("span",{"uk-icon":"ban"})):null,i.a.createElement("div",{id:"coverCanvas"}),i.a.createElement(A,{meterlevel:this.state.curLevel}))}}]),e}(n.Component),M=["bravocado.gif","congrats_wandg.gif","rule_rock.gif","thumbs_up.gif","panting.gif"],D=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={currentButton:1,mode:"test",currentAnswerMark:1,mediaDimTag:"",testKey:1,audioVol:1,userTested:!1,PNUM:9,prob_complete:!1},t.childClick=t.childClick.bind(Object(b.a)(t)),t.startOver=t.startOver.bind(Object(b.a)(t)),t.reset=t.reset.bind(Object(b.a)(t)),t.upOne=t.upOne.bind(Object(b.a)(t)),t.testMode=t.testMode.bind(Object(b.a)(t)),t.learnMode=t.learnMode.bind(Object(b.a)(t)),t.correctAnswer=t.correctAnswer.bind(Object(b.a)(t)),t.updateTest=t.updateTest.bind(Object(b.a)(t)),t.setAudio=t.setAudio.bind(Object(b.a)(t)),t.repeatStep=t.repeatStep.bind(Object(b.a)(t)),t.userTested=t.userTested.bind(Object(b.a)(t)),t.updateState=t.updateState.bind(Object(b.a)(t)),t}return Object(m.a)(e,t),Object(d.a)(e,[{key:"userTested",value:function(t){t&&this.setState({userTested:!0})}},{key:"updateMedia",value:function(){var t,e=f()("#media-container").width(),r=f()("#media-container").height();t=e/r<=1.2?"_square":"",this.setState({mediaDimTag:t}),e/r>1.72?this.setState({mediaDims:{height:"65vh"}}):this.setState({mediaDims:{height:"54vh"}})}},{key:"componentDidMount",value:function(){this.updateMedia(),f()("#media-container").width()/f()("#media-container").height()>1.72&&this.setState({mediaDims:{height:"65vh"}}),window.addEventListener("resize",this.updateMedia.bind(this))}},{key:"updateState",value:function(t,e){this.setState({testKey:t,currentAnswerMark:e},function(){var t=document.getElementById("steps-container"),r=document.getElementById("steps-container").offsetTop;if(6!==e){var s=document.getElementById("card".concat(this.state.currentAnswerMark)).offsetTop;setTimeout(function(){t.scroll({top:s-r,behavior:"smooth"})},800)}setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50)})}},{key:"childClick",value:function(){this.setState({currentButton:this.state.currentButton+1},function(){var t=document.getElementById("steps-container"),e=document.getElementById("steps-container").offsetTop,r=document.getElementById("card".concat(this.state.currentButton-1)).offsetTop;setTimeout(function(){t.scroll({top:r-e,behavior:"smooth"})},100)});for(var t=document.getElementsByTagName("audio"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0;var r=document.getElementById("".concat(g.audio_abbrev).concat(this.state.currentButton));r&&(r.volume=this.state.audioVol,r.play())}},{key:"correctAnswer",value:function(t){this.setState({currentAnswerMark:this.state.currentAnswerMark+1},function(){var e=document.getElementById("steps-container"),r=document.getElementById("steps-container").offsetTop;if(t)this.setState({prob_complete:!0}),setTimeout(function(){this.setState({prob_complete:!1})}.bind(this),2500);else{var s=document.getElementById("card".concat(this.state.currentAnswerMark)).offsetTop;setTimeout(function(){e.scroll({top:s-r,behavior:"smooth"})},800)}})}},{key:"startOver",value:function(){this.setState({currentButton:2},function(){for(var t=document.getElementsByTagName("audio"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0;var r=document.getElementById("".concat(g.audio_abbrev).concat(this.state.currentButton-1));r&&(r.volume=this.state.audioVol,r.play())}),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"}),f()("#reflectQuestion").val("")}},{key:"reset",value:function(){this.setState({currentButton:1},function(){for(var t=document.getElementsByTagName("audio"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0}),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"}),f()("#reflectQuestion").val("")}},{key:"upOne",value:function(t){for(var e=document.getElementsByTagName("audio"),r=0;r<e.length;r++)e[r].pause(),e[r].currentTime=0;var s=document.getElementById("".concat(g.audio_abbrev).concat(this.state.currentButton-2));s&&(s.volume=this.state.audioVol,s.play()),t.stopPropagation(),this.setState({currentButton:this.state.currentButton-1},function(){if(this.state.currentButton>1){var t=document.getElementById("steps-container"),e=document.getElementById("steps-container").offsetTop,r=document.getElementById("card".concat(this.state.currentButton-1)).offsetTop;setTimeout(function(){t.scroll({top:r-e,behavior:"smooth"})},100)}})}},{key:"repeatStep",value:function(t){for(var e=document.getElementsByTagName("audio"),r=0;r<e.length;r++)e[r].pause(),e[r].currentTime=0;var s=document.getElementById("".concat(g.audio_abbrev).concat(this.state.currentButton-1));s&&(s.volume=this.state.audioVol,s.play()),t.stopPropagation()}},{key:"setAudio",value:function(){var t=this.state.audioVol;t=0===t?1:0,this.setState({audioVol:t});var e=document.getElementById("".concat(g.audio_abbrev).concat(this.state.currentButton-1));e&&(e.volume=t)}},{key:"testMode",value:function(){this.setState({currentButton:2,mode:"test",currentAnswerMark:1}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"});var t=document.getElementById("".concat(g.audio_abbrev).concat(this.state.currentButton-1));t&&(t.pause(),t.currentTime=0)}},{key:"updateTest",value:function(){var t=this.state.testKey+1;this.setState({currentButton:2,mode:"test",currentAnswerMark:1,testKey:t}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"})}},{key:"learnMode",value:function(){this.setState({currentButton:1,mode:"learn",currentAnswerMark:1}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"})}},{key:"render",value:function(){var t,e,r,s,a,o,n,c=[];if(s=this.state.mediaDims,e=this.state.currentButton<=g.steps.length?{pointerEvents:"none",backgroundColor:this.props.discolor}:{pointerEvents:"all",backgroundColor:"white"},"learn"===this.state.mode){for(var h=0;h<g.steps.length;h++)c.push(i.a.createElement(k,{key:g.steps[h].id,label:g.steps[h].label,text:g.steps[h].text,order:g.steps[h].order,handler:this.childClick,curbut:this.state.currentButton,curmode:this.state.mode,upone:this.upOne,repstep:this.repeatStep,primcolor:this.props.primcolor,seccolor:this.props.seccolor,discolor:this.props.discolor,dislabel:this.props.dislabel}));r=i.a.createElement("span",null,i.a.createElement("button",{onClick:this.startOver,className:"uk-button uk-button-default uk-button-small uk-width-1-3",style:e},"redo"),i.a.createElement("button",{style:{backgroundColor:this.props.seccolor},onClick:this.reset,className:"uk-button uk-button-secondary uk-button-small uk-width-1-3"},"clear"),i.a.createElement("button",{style:{backgroundColor:this.props.primcolor},onClick:this.testMode,className:"uk-button uk-button-primary uk-button-small uk-width-1-3"},"show")),t=i.a.createElement("img",{src:1!==this.state.currentButton?"".concat(g.img_abbrev).concat(String(this.state.currentButton-1)).concat(this.state.mediaDimTag,".svg"):"",alt:""}),n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"hidden":"visible",o=i.a.createElement(v,{suganswer:g.reflect_suganswer,reflectQ:g.reflectQ})}else{e=this.state.currentButton<=g.steps.length?{pointerEvents:"none",backgroundColor:this.props.discolor}:{pointerEvents:"all",backgroundColor:"white"},r=i.a.createElement("span",null,i.a.createElement("button",{style:{backgroundColor:this.props.seccolor},id:"updateTest",onClick:this.updateTest,className:"uk-button uk-button-secondary uk-button-small uk-width-1-2"},"another one"),i.a.createElement("button",{style:{backgroundColor:this.props.primcolor},onClick:this.learnMode,className:"uk-button uk-button-primary uk-button-small uk-width-1-2"},"learn\u2009",i.a.createElement("span",{"uk-icon":"social"})));for(var u=0;u<g.steps.length;u++)a=this.state.testKey%this.state.PNUM===1?g.steps[u].test:this.state.testKey%this.state.PNUM===0?g.steps[u]["test".concat(this.state.PNUM)]:g.steps[u]["test".concat(this.state.testKey%this.state.PNUM)],c.push(i.a.createElement(k,{key:g.steps[u].id,label:g.steps[u].testLabel,text:a,order:g.steps[u].order,handler:this.childClick,curbut:this.state.currentButton,curmode:this.state.mode,curmark:this.state.currentAnswerMark,primcolor:this.props.primcolor,seccolor:this.props.seccolor,discolor:this.props.discolor,dislabel:this.props.dislabel}));t=this.state.prob_complete?i.a.createElement("img",{className:"uk-animation-fade uk-animation-kenburns",src:M[Math.floor(Math.random()*M.length)],alt:"",style:{height:"100%"}}):i.a.createElement(B,{testnum:this.state.testKey,curbut:this.state.currentButton,correctans:this.correctAnswer,curans:this.state.currentAnswerMark,tested:this.userTested,pnum:this.state.PNUM,updatestate:this.updateState}),o=null,n="hidden"}return i.a.createElement("div",null,i.a.createElement("div",{id:"media-container",className:"uk-container uk-width-1-2@m uk-border-rounded",style:s},t,i.a.createElement("img",{onClick:this.setAudio,id:"soundicon",src:"audio_icon.svg",alt:"",style:{opacity:1.5*(1-this.state.audioVol)/1.5+.2,visibility:n}})),i.a.createElement("div",{id:"steps-container",className:"uk-container uk-width-1-2@m"},c,o,r))}}]),e}(n.Component),j=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={},t}return Object(m.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t;return"images-interactive"===this.props.media&&(t=i.a.createElement(D,{primcolor:"#4499cc",seccolor:"#557722",discolor:"#D3D3D3",dislabel:"#aaccdd"})),i.a.createElement("div",null,t)}}]),e}(n.Component);h.a.render(i.a.createElement(j,{media:"images-interactive"}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.d4003f4d.chunk.js.map