(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(t,e,r){"use strict";r.r(e);var s,o,a,i,n=r(1),c=r.n(n),p=r(87),l=r.n(p),u=(r(95),r(4)),d=r(5),h=r(7),m=r(6),f=r(8),b=r(2),g=r(0),w=r.n(g),k=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(h.a)(this,Object(m.a)(e).call(this))).state={},t.openError=t.openError.bind(Object(b.a)(t)),t}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){w()("#steptext".concat(this.props.order)).html(this.props.text),w()("#error-message").html(this.props.probdata.steps[this.props.curbut-1].errors.default)}},{key:"openError",value:function(t){window.UIkit.modal("#modal-error").show(),t.stopPropagation()}},{key:"render",value:function(){var t,e,r,s,o,a,i,n;return"learn"===this.props.curmode?(n={display:"none"},o="\u2191",a="\u21ba",this.props.order<this.props.curbut?(t={pointerEvents:"none",backgroundColor:"white",color:"black"},e={backgroundColor:this.props.primcolor}):this.props.order===this.props.curbut?(t={pointerEvents:"all",backgroundColor:this.props.discolor,color:"gray"},e={backgroundColor:this.props.dislabel},s={filter:"blur(3px)"}):(t={pointerEvents:"none",backgroundColor:this.props.discolor,color:"gray"},e={backgroundColor:this.props.dislabel},s={filter:"blur(3px)"}),r=i=this.props.order===this.props.curbut-1&&this.props.curbut>1?{visibility:"visible",cursor:"pointer",pointerEvents:"all"}:{visibility:"hidden",cursor:"none",pointerEvents:"none"}):(r={visibility:"visible",cursor:"none",pointerEvents:"none"},i={visibility:"hidden",cursor:"none",pointerEvents:"none"},n={visibility:"visible",cursor:"pointer",pointerEvents:"all"},this.props.order>this.props.curmark?(n={visibility:"hidden",cursor:"none",pointerEvents:"none"},t={pointerEvents:"none",backgroundColor:this.props.discolor,color:"gray"},e={backgroundColor:this.props.dislabel},s={filter:"blur(3px)"},o=""):this.props.order===this.props.curmark?(this.props.curerror&&w()(".qmark").addClass("uk-animation-shake"),t={pointerEvents:"none",backgroundColor:"white",color:"black"},e={backgroundColor:this.props.primcolor},o="\u25ef"):(n={visibility:"hidden",cursor:"none",pointerEvents:"none"},t={pointerEvents:"none",backgroundColor:"rgba(0, 255, 0, 0.1)"},e={backgroundColor:this.props.primcolor},o="\u2714\ufe0f")),c.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-width-1-1@m ".concat(this.props.margBot),id:"card".concat(this.props.order),onClick:this.props.handler,style:t},c.a.createElement("div",null,c.a.createElement("span",{className:"qmark",onClick:this.openError,style:n},"?"),c.a.createElement("span",{className:"arrow",onClick:this.props.upone,style:r},o),c.a.createElement("span",{className:"reparrow",onClick:this.props.repstep,style:i},a),c.a.createElement("span",{className:"uk-label",style:e},this.props.label)," ",c.a.createElement("p",{className:"step-text",id:"steptext".concat(this.props.order),style:s},this.props.text)))}}]),e}(n.Component),v=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(h.a)(this,Object(m.a)(e).call(this))).state={response:!1,curSimScore:null},t.compareAnswers=t.compareAnswers.bind(Object(b.a)(t)),t.clearAnswer=t.clearAnswer.bind(Object(b.a)(t)),t}return Object(f.a)(e,t),Object(d.a)(e,[{key:"compareAnswers",value:function(){var t,e=w()("#reflectQuestion").val(),r=this.props.suganswer;w()("#reflectQuestion").val("");var s=new XMLHttpRequest,o="https://api.dandelion.eu/datatxt/sim/v1/?text1=".concat(e,"&text2=").concat(r,"&token=a4afc7d8c8c74f53820d3691f00c731d");s.open("GET",o),s.send(),s.onreadystatechange=function(o){var a=s.responseText.indexOf("similarity")+12,i=s.responseText.indexOf('"lang":'),n=s.responseText.slice(a,i-1);t=(100*Number(n)).toFixed(2),isNaN(t)&&(t=0),w()("#modal-score").text("Score: ".concat(t," points out of 100.")),w()("#stu-answer").html("<strong>Your answer</strong><br /><i>".concat(e,"</i>")),w()("#sug-answer").html("<strong>Suggested answer</strong><br />".concat(r))},this.setState({response:!0})}},{key:"clearAnswer",value:function(){w()("#reflectQuestion").val(""),this.setState({response:!1})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("textarea",{id:"reflectQuestion",placeholder:this.props.reflectQ,className:"uk-width-1-1@m",style:{width:"81%",marginBottom:10,resize:"none",fontSize:"0.8em",minHeight:"8vh",border:"none",boxSizing:"border-box",padding:"5px 5px 5px 10px",outline:"none"}}),c.a.createElement("button",{onClick:this.compareAnswers,className:"uk-button uk-button-default uk-button-small","uk-toggle":"target: #modal-reflect",style:{minHeight:"8vh",float:"right",borderTopRightRadius:5,borderBottomRightRadius:5,boxShadow:"0 0 3px #aaa",border:"none",width:"15%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",fontSize:"1.2vmax"}},"check"),c.a.createElement("div",{id:"modal-reflect","uk-modal":"true"},c.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},c.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true",onClick:this.clearAnswer}),c.a.createElement("h4",{className:"uk-modal-title",id:"modal-score"}," "),c.a.createElement("p",{className:"uk-text-justify",id:"stu-answer"}),c.a.createElement("p",{className:"uk-text-justify",id:"sug-answer"}))))}}]),e}(n.Component),y=r(88),A=(r(96),{position:"fixed",top:"0px",right:"10px",height:"18px",outline:"none",fontVariant:"small-caps",backgroundColor:"#D3D3D3",color:"white",border:"none",borderBottomLeftRadius:5,borderBottomRightRadius:5,width:"20px",cursor:"pointer",zIndex:"100",paddingBottom:"2",boxShadow:"0px 1px 3px #ccc"}),S=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(h.a)(this,Object(m.a)(e).call(this))).state={},t.clearMeter=t.clearMeter.bind(Object(b.a)(t)),t}return Object(f.a)(e,t),Object(d.a)(e,[{key:"clearMeter",value:function(){window.confirm("Reset the Practice Meter?")&&(localStorage.removeItem("cotfMeter"),localStorage.removeItem("firstTested_cotf"),localStorage.removeItem("lastTested_cotf"),window.location.reload())}},{key:"render",value:function(){var t;return this.props.meterlevel<=20?t="rgba(255, 0, 0, 0.5)":this.props.meterlevel>20&&this.props.meterlevel<80?t="rgba(255, 255, 0, 0.5)":this.props.meterlevel>=80&&(t="rgba(0, 255, 0, 0.5)"),c.a.createElement("div",null,c.a.createElement("div",{id:"pmeter"},c.a.createElement("div",{id:"pmeterBar",style:{width:"".concat(this.props.meterlevel,"%"),backgroundColor:t}}),c.a.createElement("button",{id:"resetMeter",onClick:this.clearMeter,style:A},"\xd7")))}}]),e}(n.Component),E=null,H=null,x=null,O={width:"100%",height:"100%",touchAction:"none"},N={width:"15vh",height:"15vh",fontFamily:"sans-serif",fontSize:"1.25em",textAlign:"center",outline:"none",boxShadow:"0 0 3px #ccc",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fafafa",color:"black"},T={position:"absolute",bottom:0,right:0,backgroundColor:"rgba(21, 160, 133, 0.5)",color:"white",fontFamily:"Rubik",fontSize:"0.9em",fontVariant:"small-caps",borderTopLeftRadius:"4px",width:"75px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center"},C={position:"absolute",top:0,right:0,backgroundColor:"rgba(21, 160, 133, 0.5)",color:"white",fontFamily:"Rubik",fontSize:"0.9em",fontVariant:"small-caps",borderBottomLeftRadius:"4px",width:"75px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center"},I={position:"absolute",bottom:"0px",right:"0px",height:"25px",boxShadow:"0 0 2px #ccc",outline:"none",fontVariant:"small-caps",backgroundColor:"#fafafa",color:"gray",border:"none",width:"75px",borderTopLeftRadius:"4px",cursor:"pointer",zIndex:"100"},j={position:"absolute",bottom:"35px",right:"0px",height:"25px",boxShadow:"0 0 2px #ccc",outline:"none",fontVariant:"small-caps",backgroundColor:"#fafafa",color:"gray",border:"none",width:"75px",borderTopLeftRadius:"4px",cursor:"pointer",zIndex:"100"},B=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(h.a)(this,Object(m.a)(e).call(this))).state={storedAnswer:null,curLevel:0,pointsPer:5,SOCKETON:!1,numusers:0,is_teacher:!1,users:{},nnames:{},curAssigned:!1,teacher_exists:!1},t.handleAnswers=t.handleAnswers.bind(Object(b.a)(t)),t.clearAnswer=t.clearAnswer.bind(Object(b.a)(t)),t.storeAnswer=t.storeAnswer.bind(Object(b.a)(t)),t.startSocket=t.startSocket.bind(Object(b.a)(t)),t.receiveUser=t.receiveUser.bind(Object(b.a)(t)),t.endUser=t.endUser.bind(Object(b.a)(t)),t.sendAssign=t.sendAssign.bind(Object(b.a)(t)),t.receiveAssign=t.receiveAssign.bind(Object(b.a)(t)),t}return Object(f.a)(e,t),Object(d.a)(e,[{key:"handleMathAnswer",value:function(t){setTimeout(function(){var e=(t.detail.exports||{})["application/x-latex"]||"",r=/(\d+)\/(\d+)/,s=r.exec(e);s&&(e=e.replace(r,"\\dfrac {".concat(s[1],"}{").concat(s[2],"}"))),this.storeAnswer(e),this.state.SOCKETON&&E.send(JSON.stringify({action:"math-answer",msg:e}))}.bind(this),100)}},{key:"componentDidMount",value:function(){var t=this;this.editor=y.a(this.refs.editor,{recognitionParams:{type:"MATH",protocol:"WEBSOCKET",apiVersion:"V4",server:{scheme:"https",host:"webdemoapi.myscript.com",applicationKey:"1463c06b-251c-47b8-ad0b-ba05b9a3bd01",hmacKey:"60ca101a-5e6d-4159-abc5-2efcbecce059"}}}),window.addEventListener("resize",function(){t.editor.resize()}),document.getElementById("input-area").addEventListener("exported",this.handleMathAnswer.bind(this)),window.addEventListener("touchmove",function(){}),window.addEventListener("beforeunload",function(){E.send(JSON.stringify({action:"userend",userID:H}))})}},{key:"componentWillUnmount",value:function(){clearInterval(s)}},{key:"storeAnswer",value:function(t){w()("#answerInput").html("\\(\\mathtt{".concat(t,"}\\)")),this.setState({storedAnswer:t}),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])}},{key:"handleMessage",value:function(t){if(this.state.SOCKETON){var e=JSON.parse(t.data);"math-answer"===e.action?this.storeAnswer(e.msg):"submit"===e.action?this.handleReceiveAnswers():"usercheck"===e.action?this.receiveUser(e.userID,e.nname,e.tExist):"userend"===e.action?this.endUser(e.userID):"assign"===e.action?this.receiveAssign(e.userID):"unassign"===e.action?this.receiveUnassign():"emit-state"===e.action&&this.props.updatestate(e.tnum,e.cans)}}},{key:"startSocket",value:function(t){var e=w()("#socketID").val();!0===w()("#teacherchck").prop("checked")&&(e+="T$");var r=(new Date).getTime();null!==e.match(/[A-Za-z0-9_-]+[T$]$/g)&&(e=e.slice(0,-2),w()("#socketID").val(e),this.setState({is_teacher:!0,teacher_exists:r}),setTimeout(function(){this.state.is_teacher?a=setInterval(function(){E.send(JSON.stringify({action:"emit-state",tnum:this.props.testnum,cans:this.props.curans}))}.bind(this),1580):clearInterval(a)}.bind(this),3e3)),""!==e&&null===e.match(/[^A-Za-z0-9_-]+/g)&&(""===(x=w()("#nickname").val())&&(x="*"),(E=new WebSocket("wss://connect.websocket.in/comparing2fractions?room_id="+e)).addEventListener("message",this.handleMessage.bind(this)),this.setState({SOCKETON:!0}),window.UIkit.modal(document.getElementById("modal-example")).hide(),H=String(Math.floor(1e6*Math.random())),s=setInterval(function(){E.send(JSON.stringify({action:"usercheck",userID:H,nname:x,tExist:r}))},2e3))}},{key:"receiveUser",value:function(t,e,r){for(var s in this.state.users)if(this.state.users[s]===t)return;var o=this.state.users;o[String(this.state.numusers+1)]=t;var a=this.state.nnames;a[String(this.state.numusers+1)]=e,this.setState({numusers:this.state.numusers+1,users:o,nnames:a}),r<this.state.teacher_exists&&this.setState({is_teacher:!1,teacher_exists:!0})}},{key:"endUser",value:function(t){this.state.curAssigned===t&&E.send(JSON.stringify({action:"unassign"})),w()("#"+t).css({"pointer-events":"none",visibility:"hidden"}),w()("#"+t).prop("disabled",!0)}},{key:"handleAnswers",value:function(){if(""!==this.state.storedAnswer){this.state.SOCKETON&&E.send(JSON.stringify({action:"submit"}));var t=this.state.storedAnswer.indexOf("{")+1,e=this.state.storedAnswer.indexOf("}"),r=this.state.storedAnswer.indexOf("{",t)+1,s=this.state.storedAnswer.indexOf("}",e+1),o=Number(this.state.storedAnswer.slice(t,e)),a=Number(this.state.storedAnswer.slice(r,s)),i=this.state.storedAnswer;if(this.props.testnum%this.props.pnum===1)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var n;if("3"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"1"===i?n="lesser-denom":0!==o&&0!==a&&(n="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(n)}else if(4===this.props.curans){var c;if(4===o&&3===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?c="non-fraction":4===o&&1===a&&(c="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(c)}else if(5===this.props.curans){var p;if(4===o&&1===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?p="non-fraction":4===o&&3===a&&(p="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(p)}else 6===this.props.curans&&("\\dfrac {4}{3} <\\dfrac {4}{1}"===i||"\\dfrac {4}{1} >\\dfrac {4}{3}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===2)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var l;if("5"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"2"===i?l="lesser-num":0!==o&&0!==a&&(l="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(l)}else if(4===this.props.curans){var u;if(5===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?u="non-fraction":2===o&&8===a&&(u="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(u)}else if(5===this.props.curans){var d;if(2===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?d="non-fraction":5===o&&8===a&&(d="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(d)}else 6===this.props.curans&&("\\dfrac {2}{8} <\\dfrac {5}{8}"===i||"\\dfrac {5}{8} >\\dfrac {2}{8}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===3)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var h;if("9"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"8"===i?h="lesser-denom":0!==o&&0!==a&&(h="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(h)}else if(4===this.props.curans){var m;if(3===o&&9===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?m="non-fraction":3===o&&8===a&&(m="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(m)}else if(5===this.props.curans){var f;if(3===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?f="non-fraction":3===o&&9===a&&(f="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(f)}else 6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{8}"===i||"\\dfrac {3}{8} >\\dfrac {3}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===4)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var b;if("3"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"9"===i?b="greater-denom":0!==o&&0!==a&&(b="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(b)}else if(4===this.props.curans){var g;if(3===o&&3===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?g="non-fraction":3===o&&8===a&&(g="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(g)}else if(5===this.props.curans){var k;if(3===o&&9===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?k="non-fraction":3===o&&3===a&&(k="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(k)}else 6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{3}"===i||"\\dfrac {3}{3} >\\dfrac {3}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===5)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var v;if("5"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"7"===i?v="greater-denom":0!==o&&0!==a&&(v="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(v)}else if(4===this.props.curans){var y;if(1===o&&5===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?y="non-fraction":1===o&&7===a&&(y="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(y)}else if(5===this.props.curans){var A;if(1===o&&7===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?A="non-fraction":1===o&&5===a&&(A="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(A)}else 6===this.props.curans&&("\\dfrac {1}{7} <\\dfrac {1}{5}"===i||"\\dfrac {1}{5} >\\dfrac {1}{7}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===6)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var S;if("4"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"8"===i?S="greater-num":0!==o&&0!==a&&(S="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(S)}else if(4===this.props.curans){var H;if(4===o&&4===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?H="non-fraction":8===o&&4===a&&(H="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(H)}else if(5===this.props.curans){var x;if(8===o&&4===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?x="non-fraction":4===o&&4===a&&(x="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(x)}else 6===this.props.curans&&("\\dfrac {4}{4} <\\dfrac {8}{4}"===i||"\\dfrac {8}{4} >\\dfrac {4}{4}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===7)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var O;if("5"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"4"===i?O="lesser-num":0!==o&&0!==a&&(O="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(O)}else if(4===this.props.curans){var N;if(5===o&&6===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?N="non-fraction":4===o&&6===a&&(N="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(N)}else if(5===this.props.curans){var T;if(4===o&&6===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?T="non-fraction":5===o&&6===a&&(T="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(T)}else 6===this.props.curans&&("\\dfrac {4}{6} <\\dfrac {5}{6}"===i||"\\dfrac {5}{6} >\\dfrac {4}{6}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===8)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var C;if("9"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"8"===i?C="lesser-denom":0!==o&&0!==a&&(C="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(C)}else if(4===this.props.curans){var I;if(8===o&&9===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?I="non-fraction":8===o&&8===a&&(I="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(I)}else if(5===this.props.curans){var j;if(8===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?j="non-fraction":8===o&&9===a&&(j="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(j)}else 6===this.props.curans&&("\\dfrac {8}{9} <\\dfrac {8}{8}"===i||"\\dfrac {8}{8} >\\dfrac {8}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===0)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var B;if("9"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"6"===i?B="lesser-num":0!==o&&0!==a&&(B="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(B)}else if(4===this.props.curans){var M;if(9===o&&5===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?M="non-fraction":6===o&&5===a&&(M="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(M)}else if(5===this.props.curans){var D;if(6===o&&5===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?D="non-fraction":9===o&&5===a&&(D="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(D)}else 6===this.props.curans&&("\\dfrac {6}{5} <\\dfrac {9}{5}"===i||"\\dfrac {9}{5} >\\dfrac {6}{5}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()))}}},{key:"handleReceiveAnswers",value:function(){if(""!==this.state.storedAnswer){var t=this.state.storedAnswer.indexOf("{")+1,e=this.state.storedAnswer.indexOf("}"),r=this.state.storedAnswer.indexOf("{",t)+1,s=this.state.storedAnswer.indexOf("}",e+1),o=Number(this.state.storedAnswer.slice(t,e)),a=Number(this.state.storedAnswer.slice(r,s)),i=this.state.storedAnswer;if(this.props.testnum%this.props.pnum===1)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var n;if("3"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"1"===i?n="lesser-denom":0!==o&&0!==a&&(n="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(n)}else if(4===this.props.curans){var c;if(4===o&&3===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?c="non-fraction":4===o&&1===a&&(c="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(c)}else if(5===this.props.curans){var p;if(4===o&&1===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?p="non-fraction":4===o&&3===a&&(p="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(p)}else 6===this.props.curans&&("\\dfrac {4}{3} <\\dfrac {4}{1}"===i||"\\dfrac {4}{1} >\\dfrac {4}{3}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===2)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var l;if("5"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"2"===i?l="lesser-num":0!==o&&0!==a&&(l="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(l)}else if(4===this.props.curans){var u;if(5===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?u="non-fraction":2===o&&8===a&&(u="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(u)}else if(5===this.props.curans){var d;if(2===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?d="non-fraction":5===o&&8===a&&(d="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(d)}else 6===this.props.curans&&("\\dfrac {2}{8} <\\dfrac {5}{8}"===i||"\\dfrac {5}{8} >\\dfrac {2}{8}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===3)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var h;if("9"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"8"===i?h="lesser-denom":0!==o&&0!==a&&(h="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(h)}else if(4===this.props.curans){var m;if(3===o&&9===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?m="non-fraction":3===o&&8===a&&(m="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(m)}else if(5===this.props.curans){var f;if(3===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?f="non-fraction":3===o&&9===a&&(f="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(f)}else 6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{8}"===i||"\\dfrac {3}{8} >\\dfrac {3}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===4)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var b;if("3"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"9"===i?b="greater-denom":0!==o&&0!==a&&(b="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(b)}else if(4===this.props.curans){var g;if(3===o&&3===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?g="non-fraction":3===o&&8===a&&(g="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(g)}else if(5===this.props.curans){var k;if(3===o&&9===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?k="non-fraction":3===o&&3===a&&(k="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(k)}else 6===this.props.curans&&("\\dfrac {3}{9} <\\dfrac {3}{3}"===i||"\\dfrac {3}{3} >\\dfrac {3}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===5)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var v;if("5"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"7"===i?v="greater-denom":0!==o&&0!==a&&(v="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(v)}else if(4===this.props.curans){var y;if(1===o&&5===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?y="non-fraction":1===o&&7===a&&(y="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(y)}else if(5===this.props.curans){var A;if(1===o&&7===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?A="non-fraction":1===o&&5===a&&(A="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(A)}else 6===this.props.curans&&("\\dfrac {1}{7} <\\dfrac {1}{5}"===i||"\\dfrac {1}{5} >\\dfrac {1}{7}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===6)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var S;if("4"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"8"===i?S="greater-num":0!==o&&0!==a&&(S="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(S)}else if(4===this.props.curans){var E;if(4===o&&4===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?E="non-fraction":8===o&&4===a&&(E="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(E)}else if(5===this.props.curans){var H;if(8===o&&4===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?H="non-fraction":4===o&&4===a&&(H="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(H)}else 6===this.props.curans&&("\\dfrac {4}{4} <\\dfrac {8}{4}"===i||"\\dfrac {8}{4} >\\dfrac {4}{4}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===7)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var x;if("5"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"4"===i?x="lesser-num":0!==o&&0!==a&&(x="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(x)}else if(4===this.props.curans){var O;if(5===o&&6===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?O="non-fraction":4===o&&6===a&&(O="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(O)}else if(5===this.props.curans){var N;if(4===o&&6===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?N="non-fraction":5===o&&6===a&&(N="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(N)}else 6===this.props.curans&&("\\dfrac {4}{6} <\\dfrac {5}{6}"===i||"\\dfrac {5}{6} >\\dfrac {4}{6}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===8)if(1===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var T;if("9"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"8"===i?T="lesser-denom":0!==o&&0!==a&&(T="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(T)}else if(4===this.props.curans){var C;if(8===o&&9===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?C="non-fraction":8===o&&8===a&&(C="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(C)}else if(5===this.props.curans){var I;if(8===o&&8===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?I="non-fraction":8===o&&9===a&&(I="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(I)}else 6===this.props.curans&&("\\dfrac {8}{9} <\\dfrac {8}{8}"===i||"\\dfrac {8}{8} >\\dfrac {8}{9}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()));else if(this.props.testnum%this.props.pnum===0)if(1===this.props.curans)"D"===i||"d"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(2===this.props.curans)"N"===i||"n"===i?(this.props.correctans(),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans());else if(3===this.props.curans){var j;if("9"===i)this.props.correctans(),this.clearAnswer(),this.updateScore();else"6"===i?j="lesser-num":0!==o&&0!==a&&(j="fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(j)}else if(4===this.props.curans){var B;if(9===o&&5===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?B="non-fraction":6===o&&5===a&&(B="smaller-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(B)}else if(5===this.props.curans){var M;if(6===o&&5===a)this.props.correctans(),this.clearAnswer(),this.updateScore();else 0===o&&0===a?M="non-fraction":9===o&&5===a&&(M="larger-fraction"),w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans(M)}else 6===this.props.curans&&("\\dfrac {6}{5} <\\dfrac {9}{5}"===i||"\\dfrac {9}{5} >\\dfrac {6}{5}"===i?(this.props.correctans(!0),this.clearAnswer(),this.updateScore()):(w()("#submitHandwriting").css("background-color","red"),this.props.incorrectans()))}}},{key:"updateScore",value:function(){if(!this.state.SOCKETON){var t=(new Date).getTime();localStorage.setItem("lastTested_cotf",t),null===localStorage.getItem("firstTested_cotf")&&localStorage.setItem("firstTested_cotf",t);var e=this.state.curLevel+this.state.pointsPer;e>100&&(e=100),this.setState({curLevel:e}),localStorage.setItem("cotfMeter",e)}}},{key:"clearAnswer",value:function(){this.editor.clear(),w()("#answerInput").css({color:"#fafafa"}),setTimeout(function(){w()("#answerInput").css({color:"black"})},1e3),w()("#submitHandwriting").css("background-color","#fafafa"),this.props.reseterror()}},{key:"sendAssign",value:function(t){var e="teacher"===this.state.curAssigned;return"ban-button"===t.currentTarget.id&&this.state.is_teacher&&!e?(w()("#ban-button").css({"background-color":"rgba(255, 0, 0, 0.8)"}),w()(".userbutton").css({"background-color":"lightblue"}),this.setState({curAssigned:"teacher"}),void(o=setInterval(function(){E.send(JSON.stringify({action:"assign",userID:"teacher"}))},2e3))):"ban-button"===t.currentTarget.id&&this.state.is_teacher&&e?(w()("#ban-button").css({"background-color":"lightblue"}),E.send(JSON.stringify({action:"unassign"})),this.setState({curAssigned:!1}),void clearInterval(o)):void("rgb(144, 238, 144)"!==w()("#"+t.currentTarget.id).css("background-color")?(clearInterval(o),w()("#ban-button").css({"background-color":"lightblue"}),w()("#"+t.currentTarget.id).css({"background-color":"lightgreen"}),w()(".userbutton").not("#"+t.currentTarget.id).css({"background-color":"lightblue"}),E.send(JSON.stringify({action:"assign",userID:t.currentTarget.id})),this.setState({curAssigned:t.currentTarget.id})):(w()("#ban-button").css({"background-color":"lightblue"}),w()("#"+t.currentTarget.id).css({"background-color":"lightblue"}),E.send(JSON.stringify({action:"unassign"})),this.setState({curAssigned:!1})))}},{key:"receiveAssign",value:function(t){H===t&&!1===this.state.curAssigned?(w()("#coverCanvas").css({display:"none"}),w()("#assignModal").trigger("click"),this.setState({curAssigned:!0})):H===t&&!0===this.state.curAssigned?this.setState({curAssigned:!1}):H!==t&&(w()("#coverCanvas").css({display:"inline"}),this.setState({curAssigned:!1}))}},{key:"receiveUnassign",value:function(){w()("#coverCanvas").css({display:"none"}),this.setState({curAssigned:!1})}},{key:"render",value:function(){var t,e=[];t=this.state.SOCKETON?{backgroundColor:"#00ff00"}:{backgroundColor:"#D3D3D3"},this.state.is_teacher&&(t={backgroundColor:"#ff00ff"});for(var r=Object.keys(this.state.users),s=Object.keys(this.state.nnames),o=0;o<r.length;o++){var a=35*(o+1)+15;e.push(c.a.createElement("button",{className:"userbutton uk-animation-slide-top",key:o,id:this.state.users[r[o]],"uk-tooltip":"title: ".concat(this.state.nnames[s[o]]),style:{left:a},onClick:this.sendAssign},c.a.createElement("span",{"uk-icon":"happy"})))}return c.a.createElement("div",{id:"interactive","uk-grid":"true",className:"uk-grid-collapse"},c.a.createElement("div",{id:"imgs",className:"uk-width-1-3",style:{borderRight:"1px solid lightgray",position:"relative"}},c.a.createElement("div",{style:T},"fractions"),c.a.createElement("img",{src:this.props.testimgs[this.props.testnum%this.props.pnum===0?this.props.pnum-1:this.props.testnum%this.props.pnum-1].url,alt:"",style:{height:"85%"}})),c.a.createElement("div",{id:"input-output",className:"uk-width-2-3",style:{height:"100%",touchAction:"none"}},c.a.createElement("div",{id:"output",style:{borderBottom:"1px solid lightgray",height:"35%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},c.a.createElement("div",{style:C},"answer"),c.a.createElement("div",{id:"answerInput",style:N})),c.a.createElement("div",{id:"input-area",style:{height:"65%",position:"relative"}},c.a.createElement("div",{style:C},"write"),c.a.createElement("div",{style:O,ref:"editor","touch-action":"none"}),c.a.createElement("button",{id:"clearHandwriting",onClick:this.clearAnswer,style:I},"clear"),c.a.createElement("button",{id:"submitHandwriting",onClick:this.handleAnswers,style:j},"submit"))),c.a.createElement("button",{id:"openModal",type:"button","uk-toggle":"target: #modal-example",style:t},c.a.createElement("span",{"uk-icon":"more"})),c.a.createElement("button",{id:"assignModal",type:"button","uk-toggle":"target: #modal-assign",style:{display:"none"}}),c.a.createElement("div",{id:"modal-example","uk-modal":"true"},c.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},c.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),c.a.createElement("h4",{className:"uk-modal-title"},"Guided Practice"),c.a.createElement("p",{className:"uk-text-justify"},"Enter a Room ID (e.g., mrscala_203). Then click to join an interactive practice session. If you are leading, share the ID for others to join. If you are joining, enter the ID shared with you and enter a name if you want to."),c.a.createElement("p",{className:"uk-text-right"},c.a.createElement("input",{id:"socketID",placeholder:"Room ID"})),c.a.createElement("p",{className:"uk-text-right"},c.a.createElement("input",{id:"nickname",placeholder:"Name | Nickname",maxLength:"10"})),c.a.createElement("p",{className:"uk-text-justify"},"Entering numbers, letters, hyphens, and underscore characters is okay, up to a maximum of 20 characters."),c.a.createElement("p",{className:"uk-text-right"},c.a.createElement("button",{className:"uk-button uk-button-primary",type:"button",onClick:this.startSocket},"Join Session"),c.a.createElement("br",null),c.a.createElement("input",{type:"checkbox",className:"uk-checkbox",name:"teachercheck",id:"teacherchck"}),c.a.createElement("label",{htmlFor:"teachercheck"},"\xa0\xa0Teacher")))),c.a.createElement("div",{id:"modal-assign","uk-modal":"true"},c.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},c.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),c.a.createElement("h4",{className:"uk-modal-title"},"Your Turn"),c.a.createElement("p",{className:"uk-text-justify"},"You're up! You have been selected to show your work. Go get 'em!"))),c.a.createElement("div",{id:"modal-error","uk-modal":"true"},c.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-overflow-auto"},c.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),c.a.createElement("div",{className:"uk-text-justify",id:"error-message"}))),this.state.is_teacher?e:null,this.state.is_teacher?c.a.createElement("button",{className:"banbutton",id:"ban-button",style:{left:5},onClick:this.sendAssign},c.a.createElement("span",{"uk-icon":"ban"})):null,c.a.createElement("div",{id:"coverCanvas"}),c.a.createElement(S,{meterlevel:this.state.curLevel}))}}]),e}(n.Component),M=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(h.a)(this,Object(m.a)(e).call(this))).state={currentButton:1,mode:"test",currentAnswerMark:1,mediaDimTag:"",testKey:1,audioVol:1,userTested:!1,PNUM:9,curerror:!1},t.childClick=t.childClick.bind(Object(b.a)(t)),t.startOver=t.startOver.bind(Object(b.a)(t)),t.reset=t.reset.bind(Object(b.a)(t)),t.upOne=t.upOne.bind(Object(b.a)(t)),t.testMode=t.testMode.bind(Object(b.a)(t)),t.learnMode=t.learnMode.bind(Object(b.a)(t)),t.correctAnswer=t.correctAnswer.bind(Object(b.a)(t)),t.updateTest=t.updateTest.bind(Object(b.a)(t)),t.setAudio=t.setAudio.bind(Object(b.a)(t)),t.repeatStep=t.repeatStep.bind(Object(b.a)(t)),t.userTested=t.userTested.bind(Object(b.a)(t)),t.updateState=t.updateState.bind(Object(b.a)(t)),t.resetError=t.resetError.bind(Object(b.a)(t)),t.incorrectAnswer=t.incorrectAnswer.bind(Object(b.a)(t)),t}return Object(f.a)(e,t),Object(d.a)(e,[{key:"userTested",value:function(t){t&&this.setState({userTested:!0})}},{key:"updateMedia",value:function(){var t,e=w()("#media-container").width(),r=w()("#media-container").height();t=e/r<=1.2?"_square":"",this.setState({mediaDimTag:t}),e/r>1.72?this.setState({mediaDims:{height:"65vh"}}):this.setState({mediaDims:{height:"54vh"}})}},{key:"componentDidMount",value:function(t){this.updateMedia(),w()("#media-container").width()/w()("#media-container").height()>1.72&&this.setState({mediaDims:{height:"65vh"}}),window.addEventListener("resize",this.updateMedia.bind(this)),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},100)}},{key:"childClick",value:function(){this.setState({currentButton:this.state.currentButton+1},function(){var t=document.getElementById("steps-container"),e=document.getElementById("steps-container").offsetTop,r=document.getElementById("card".concat(this.state.currentButton-1)).offsetTop;setTimeout(function(){t.scroll({top:r-e,behavior:"smooth"})},100)});for(var t=document.getElementsByTagName("audio"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0;var r=document.getElementById("".concat(this.props.probdata.audio_abbrev).concat(this.state.currentButton));r&&(r.volume=this.state.audioVol,r.src=this.props.probdata.steps[this.state.currentButton-1].Attachments[2].url,r.play())}},{key:"resetError",value:function(){this.setState({curerror:!1}),w()(".qmark").removeClass("uk-animation-shake");var t=this.props.probdata.steps[this.state.testKey-1].errors.default;w()("#error-message").html(t)}},{key:"incorrectAnswer",value:function(t){var e;t?(e=this.props.probdata.steps[this.state.currentAnswerMark-1].errors[t],this.setState({curerror:!0})):e=this.props.probdata.steps[this.state.currentAnswerMark-1].errors.default,w()("#error-message").html(e)}},{key:"correctAnswer",value:function(t){this.setState({currentAnswerMark:this.state.currentAnswerMark+1,curerror:!1},function(){var e=document.getElementById("steps-container"),r=document.getElementById("steps-container").offsetTop;if(!t){var s=document.getElementById("card".concat(this.state.currentAnswerMark)).offsetTop;setTimeout(function(){e.scroll({top:s-r,behavior:"smooth"})},800)}})}},{key:"startOver",value:function(){this.setState({currentButton:2},function(){for(var t=document.getElementsByTagName("audio"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0;var r=document.getElementById("".concat(this.props.probdata.audio_abbrev).concat(this.state.currentButton-1));r&&(r.volume=this.state.audioVol,r.play())}),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"}),w()("#reflectQuestion").val("")}},{key:"reset",value:function(){this.setState({currentButton:1},function(){for(var t=document.getElementsByTagName("audio"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0}),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"}),w()("#reflectQuestion").val("")}},{key:"upOne",value:function(t){for(var e=document.getElementsByTagName("audio"),r=0;r<e.length;r++)e[r].pause(),e[r].currentTime=0;var s=document.getElementById("".concat(this.props.probdata.audio_abbrev).concat(this.state.currentButton-2));s&&(s.volume=this.state.audioVol,s.play()),t.stopPropagation(),this.setState({currentButton:this.state.currentButton-1},function(){if(this.state.currentButton>1){var t=document.getElementById("steps-container"),e=document.getElementById("steps-container").offsetTop,r=document.getElementById("card".concat(this.state.currentButton-1)).offsetTop;setTimeout(function(){t.scroll({top:r-e,behavior:"smooth"})},100)}})}},{key:"repeatStep",value:function(t){for(var e=document.getElementsByTagName("audio"),r=0;r<e.length;r++)e[r].pause(),e[r].currentTime=0;var s=document.getElementById("".concat(this.props.probdata.audio_abbrev).concat(this.state.currentButton-1));s&&(s.volume=this.state.audioVol,s.play()),t.stopPropagation()}},{key:"setAudio",value:function(){var t=this.state.audioVol;t=0===t?1:0,this.setState({audioVol:t});var e=document.getElementById("".concat(this.props.probdata.audio_abbrev).concat(this.state.currentButton-1));e&&(e.volume=t)}},{key:"testMode",value:function(){this.setState({currentButton:2,mode:"test",currentAnswerMark:1}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"});var t=document.getElementById("".concat(this.props.probdata.audio_abbrev).concat(this.state.currentButton-1));t&&(t.pause(),t.currentTime=0),setTimeout(function(){w()("#error-message").html(this.props.probdata.steps[this.state.currentAnswerMark-1].errors.default)}.bind(this),500)}},{key:"updateTest",value:function(){this.setState({currentButton:2,mode:"test",currentAnswerMark:1,testKey:this.state.testKey+1}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"})}},{key:"learnMode",value:function(){this.setState({currentButton:1,mode:"learn",currentAnswerMark:1}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),document.getElementById("steps-container").scroll({top:0,behavior:"smooth"})}},{key:"updateState",value:function(t,e){if(this.setState({testKey:t,currentAnswerMark:e,mode:"test"}),setTimeout(function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},50),e<=6){var r=document.getElementById("card".concat(e)).offsetTop,s=document.getElementById("steps-container"),o=document.getElementById("steps-container").offsetTop;setTimeout(function(){s.scroll({top:r-o,behavior:"smooth"})},800)}}},{key:"render",value:function(){if(!this.props.probdata||void 0===this.props.probdata||null==this.props.probdata)return null;var t,e,r,s,o,a,i,n,p=[];if(s=this.state.mediaDims,e=this.state.currentButton<=this.props.probdata.steps.length?{pointerEvents:"none",backgroundColor:this.props.discolor}:{pointerEvents:"all",backgroundColor:"white"},"learn"===this.state.mode){for(var l=0;l<this.props.probdata.steps.length;l++)n=l!==this.props.probdata.steps.length-1?"uk-margin-small-bottom":"uk-margin-large-bottom",p.push(c.a.createElement(k,{key:this.props.probdata.steps[l].id,label:this.props.probdata.steps[l].label,text:this.props.probdata.steps[l].text,order:this.props.probdata.steps[l].order,handler:this.childClick,curbut:this.state.currentButton,curmode:this.state.mode,upone:this.upOne,repstep:this.repeatStep,primcolor:this.props.primcolor,seccolor:this.props.seccolor,discolor:this.props.discolor,dislabel:this.props.dislabel,margBot:n}));var u;r=c.a.createElement("span",null,c.a.createElement("button",{onClick:this.startOver,className:"uk-button uk-button-default uk-button-small uk-width-1-3",style:e},"redo"),c.a.createElement("button",{style:{backgroundColor:this.props.seccolor},onClick:this.reset,className:"uk-button uk-button-secondary uk-button-small uk-width-1-3"},"clear"),c.a.createElement("button",{style:{backgroundColor:this.props.primcolor},onClick:this.testMode,className:"uk-button uk-button-primary uk-button-small uk-width-1-3"},"show")),u="_square"===this.state.mediaDimTag?1:0,t=c.a.createElement("img",{src:1!==this.state.currentButton?this.props.probdata.steps[this.state.currentButton-2].Attachments[u].url:"",alt:""}),i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"hidden":"visible",a=c.a.createElement(v,{suganswer:this.props.probdata.reflect_suganswer,reflectQ:this.props.probdata.reflectQ})}else{e=this.state.currentButton<=this.props.probdata.steps.length?{pointerEvents:"none",backgroundColor:this.props.discolor}:{pointerEvents:"all",backgroundColor:"white"},r=c.a.createElement("span",null,c.a.createElement("button",{style:{backgroundColor:this.props.seccolor},id:"updateTest",onClick:this.updateTest,className:"uk-button uk-button-secondary uk-button-small uk-width-1-2"},"another one"),c.a.createElement("button",{style:{backgroundColor:this.props.primcolor},onClick:this.learnMode,className:"uk-button uk-button-primary uk-button-small uk-width-1-2"},"learn\u2009",c.a.createElement("span",{"uk-icon":"social"})));for(var d=0;d<this.props.probdata.steps.length;d++)n=d!==this.props.probdata.steps.length-1?"uk-margin-small-bottom":"uk-margin-large-bottom",o=this.state.testKey%this.state.PNUM===1?this.props.probdata.steps[d].test:this.state.testKey%this.state.PNUM===0?this.props.probdata.steps[d]["test".concat(this.state.PNUM)]:this.props.probdata.steps[d]["test".concat(this.state.testKey%this.state.PNUM)],p.push(c.a.createElement(k,{key:this.props.probdata.steps[d].id,label:this.props.probdata.steps[d].testLabel,text:o,order:this.props.probdata.steps[d].order,handler:this.childClick,curbut:this.state.currentButton,curmode:this.state.mode,curmark:this.state.currentAnswerMark,primcolor:this.props.primcolor,seccolor:this.props.seccolor,discolor:this.props.discolor,dislabel:this.props.dislabel,margBot:n,curerror:this.state.curerror,probdata:this.props.probdata}));t=c.a.createElement(B,{testnum:this.state.testKey,curbut:this.state.currentButton,correctans:this.correctAnswer,curans:this.state.currentAnswerMark,tested:this.userTested,pnum:this.state.PNUM,updatestate:this.updateState,reseterror:this.resetError,incorrectans:this.incorrectAnswer,testimgs:this.props.probdata.testimgs}),a=null,i="hidden"}return c.a.createElement("div",null,c.a.createElement("div",{id:"media-container",className:"uk-container uk-width-1-2@m uk-border-rounded",style:s},t,c.a.createElement("img",{onClick:this.setAudio,id:"soundicon",src:"audio_icon.svg",alt:"",style:{opacity:1.5*(1-this.state.audioVol)/1.5+.2,visibility:i}})),c.a.createElement("div",{id:"steps-container",className:"uk-container uk-width-1-2@m"},p,a,r))}}]),e}(n.Component),D=r(89);r.n(D).a.configure({endpointUrl:"https://api.airtable.com",apiKey:"keyuFtFTBZMHrzjOn"});var _=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(h.a)(this,Object(m.a)(e).call(this))).state={data:null},t}return Object(f.a)(e,t),Object(d.a)(e,[{key:"compareFunc",value:function(t,e){return t.order>e.order?1:e.order>t.order?-1:0}},{key:"componentDidMount",value:function(){var t=this;i={name:"Comparing Two Fractions",media:"images-interactive",audio_abbrev:"cotf_narration",img_abbrev:"sbs_cotf",steps:[]};var e=[{default:"<video src='./modal_howto.mp4' playsInline loop uk-video='true'></video>"},{default:"<video src='./modal_howto.mp4' playsInline loop uk-video='true'></video>"},{"lesser-denom":"You wrote the lesser denominator. Write the greater denominator instead.","greater-denom":"You wrote the greater denominator. Write the lesser denominator instead.","lesser-num":"You wrote the greater numerator. Write the lesser numerator instead.","greater-num":"You wrote the lesser numerator. Write the greater numerator instead.",fraction:"Read the instructions. You don't need to write a fraction yet.",default:"<video src='./modal_howto.mp4' playsInline loop uk-video='true'></video>"},{"non-fraction":"Read the directions. You need to write a fraction here.","larger-fraction":"You wrote the larger fraction. Write the smaller fraction instead.","smaller-fraction":"You wrote the smaller fraction. Write the larger fraction instead.",default:"<video src='./modal_howto.mp4' playsInline loop uk-video='true'></video>"},{"non-fraction":"Read the directions. You need to write a fraction here.","larger-fraction":"You wrote the larger fraction. Write the smaller fraction instead.","smaller-fraction":"You wrote the smaller fraction. Write the larger fraction instead.",default:"<video src='./modal_howto.mp4' playsInline loop uk-video='true'></video>"},{default:'The inequality should be written as "smaller fraction &lt; larger fraction" or "larger fraction &gt; smaller fraction."'}],r=[];fetch("https://api.airtable.com/v0/appbJvIOkBMSrEz8z/Comparing%20Two%20Fractions?api_key=keyuFtFTBZMHrzjOn").then(function(t){return t.json()}).then(function(s){for(var o=0;o<s.records.length;o++)s.records[o].fields.errors=e[s.records[o].fields.order-1],"reflectQ"===s.records[o].fields.step?i.reflectQ=s.records[o].fields.text:"reflect_suganswer"===s.records[o].fields.step?i.reflect_suganswer=s.records[o].fields.text:"testimgs"===s.records[o].fields.step?i.testimgs=s.records[o].fields.Attachments:r.push(s.records[o].fields);(r=r.sort(t.compareFunc)).forEach(function(t){i.steps.push(t)}),t.setState({data:i})}).catch(function(t){})}},{key:"render",value:function(){if(!this.state.data||void 0===this.state.data||null===this.state.data)return null;var t;return"images-interactive"===this.props.media&&(t=c.a.createElement(M,{primcolor:"#4499cc",seccolor:"#557722",discolor:"#D3D3D3",dislabel:"#aaccdd",probdata:this.state.data})),c.a.createElement("div",null,t)}}]),e}(n.Component);l.a.render(c.a.createElement(_,{media:"images-interactive"}),document.getElementById("root"))},90:function(t,e,r){t.exports=r(240)},95:function(t,e,r){}},[[90,1,2]]]);
//# sourceMappingURL=main.21d4b537.chunk.js.map