{"version":3,"sources":["components/InteractiveSVG.js","components/ImageInteractivePractice.js","components/App.js","components/Scorer.js","components/StepCard.js","components/Reflect.js","serviceWorker.js","index.js"],"names":["joinInterval","banInterval","stateInterval","voices","stars","c","b","clickData","Scorer","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","pointTotal","setState","props","pointtotal","displayClass","currentClickData","prefix","displayPoints","curmode","learn","concat","order","curbut","ding","points","score","document","getElementById","volume","play","testnum","pnum","tnum","curans","localStorage","setItem","abbrev","JSON","stringify","$","animate","height","react_default","a","createElement","Fragment","className","Component","StepCard","html","text","cardStyle","labelStyle","arrowStyle","textStyle","icon","repicon","repStyle","pointerEvents","backgroundColor","color","primcolor","discolor","dislabel","filter","visibility","cursor","curmark","margbot","id","onClick","handler","style","upone","repstep","label","components_Scorer","testpointsper","learnpointsper","probdata","fields","multbuts","Reflect","response","curSimScore","compareAnswers","bind","assertThisInitialized","clearAnswer","stuAnswer","val","sugAnswer","suganswer","Http","XMLHttpRequest","url","open","send","onreadystatechange","e","start","responseText","indexOf","end","slice","Number","toFixed","isNaN","placeholder","reflectQ","width","marginBottom","resize","fontSize","minHeight","border","boxSizing","padding","outline","uk-toggle","float","borderTopRightRadius","borderBottomRightRadius","boxShadow","display","alignItems","justifyContent","uk-modal","type","uk-close","socket","userID","usernname","oldAns","InteractiveSVG","SOCKETON","numusers","is_teacher","users","nnames","curAssigned","teacher_exists","talkVol","handleAnswers","startSocket","receiveUser","endUser","sendAssign","receiveAssign","handleMathAnswer","setTalkVol","handleChoiceClick","choice","window","speechSynthesis","cancel","attr","not","each","inx","removeClass","evt","target","hasClass","addEventListener","action","onvoiceschanged","getVoices","clearInterval","removeEventListener","event","message","parse","data","handleReceiveAnswers","ans","user","tAns","nname","tExist","receiveUnassign","updatestate","cans","roomID","prop","match","Date","getTime","setTimeout","setInterval","css","pointer-events","WebSocket","handleMessage","UIkit","modal","hide","String","Math","floor","random","msg","name","newUsers","newNames","anscode","correctAnswer","correctans","steps","testcode","A","B","C","D","addClass","incorrectans","tans","background-color","d","toLowerCase","length","editor","clear","blockAll","currentTarget","trigger","socketStyle","userbuttons","userlist","keys","namelist","toppos","push","key","uk-tooltip","top","uk-icon","synth","utter","SpeechSynthesisUtterance","voice","speak","attachNum","mediaDimTag","srccode","src","alt","opacity","multChoiceButs","maxLength","htmlFor","position","left","ImageInteractivePractice","currentButton","mode","currentAnswerMark","testKey","audioVol","userTested","PNUM","testPointsPer","learnPointsPer","lastTestPointsPer","childClick","startOver","reset","upOne","testMode","learnMode","updateTest","setAudio","repeatStep","updateState","updateMedia","incorrectAnswer","checkScore","res","mediatag","wdt","hgt","mediaDims","MathJax","Hub","Queue","getItem","audio_abbrev","banked_score","stepWindow","stepWindowLoc","offsetTop","cardLoc","scroll","behavior","sounds","getElementsByTagName","i","pause","currentTime","audio","learnaudio","fin","testch","corLtr","timer","curBank","dong","p","ceil","stopPropagation","level","sound","testnumber","num","modeMedia","butStyle","buttonChoices","mediaStyle","testText","reflect","audvis","tst","stepCards","background","components_StepCard","seccolor","learnimg","test","navigator","userAgent","components_Reflect","background-image","background-position","background-size","q","undefined","testLabel","components_InteractiveSVG","tested","marginRight","verticalAlign","uk-grid","confirm","removeItem","location","reload","prob_data","testCount","App","_this2","fetch","then","resp","json","records","sort","onbeforeunload","smoothscroll","polyfill","step1","step2","step3","step4","step5","step6","step7","step8","step9","step10","test1","test2","test3","test4","test5","test6","test7","test8","test9","scala","media","components_ImageInteractivePractice","suffix","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","components_App","URL","process","href","origin","contentType","headers","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.af36d01d.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport $ from 'jquery';\r\n\r\nvar socket = null;\r\nvar userID = null;\r\nvar usernname = null;\r\nvar joinInterval;\r\nvar banInterval;\r\nvar stateInterval;\r\nvar voices;\r\nvar oldAns = 100;\r\n\r\nclass InteractiveSVG extends Component {\r\n   constructor() {\r\n      super();\r\n      this.state = {SOCKETON : false, numusers : 0, is_teacher : false, users : {}, nnames : {}, curAssigned : false, teacher_exists : false, talkVol : 0};\r\n      this.handleAnswers = this.handleAnswers.bind(this);\r\n      this.clearAnswer = this.clearAnswer.bind(this);\r\n      this.startSocket = this.startSocket.bind(this);\r\n      this.receiveUser = this.receiveUser.bind(this);\r\n      this.endUser = this.endUser.bind(this);\r\n      this.sendAssign = this.sendAssign.bind(this);\r\n      this.receiveAssign = this.receiveAssign.bind(this);\r\n      this.handleMathAnswer = this.handleMathAnswer.bind(this);\r\n      this.setTalkVol = this.setTalkVol.bind(this);\r\n      this.handleChoiceClick = this.handleChoiceClick.bind(this);\r\n   }\r\n  handleMathAnswer(choice) {\r\n     window.speechSynthesis.cancel();\r\n     if (this.state.SOCKETON && !this.state.is_teacher) {\r\n     if (($(`.choice${choice}`).attr('class')).indexOf('hvr-bob') === -1) {\r\n        $(`.choice${choice}`).attr('class', `choice${choice} choice-button hvr-bob`);\r\n        ($('.choice-button').not(`.choice${choice}`)).each(function(inx) {$(this).removeClass('hvr-bob');});\r\n     }\r\n     else {\r\n        $(`.choice${choice}`).attr('class', `choice${choice} choice-button`)\r\n        choice = null;\r\n     }\r\n     }\r\n     this.handleAnswers(choice);\r\n  }\r\n  handleChoiceClick(evt) {\r\n     if ($(evt.target).hasClass('choiceA')) {this.handleMathAnswer('A');}\r\n     else if ($(evt.target).hasClass('choiceB')) {this.handleMathAnswer('B');}\r\n     else if ($(evt.target).hasClass('choiceC')) {this.handleMathAnswer('C');}\r\n     else if ($(evt.target).hasClass('choiceD')) {this.handleMathAnswer('D');}\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('touchmove', function() {});\r\n    window.addEventListener('beforeunload', function() {socket.send(JSON.stringify({action : 'userend', userID : userID}));});\r\n    window.addEventListener('click', this.handleChoiceClick);\r\n    window.speechSynthesis.onvoiceschanged = function() {voices = window.speechSynthesis.getVoices();}\r\n  }\r\n  componentWillUnmount() {\r\n     clearInterval(joinInterval);\r\n     window.removeEventListener('click', this.handleChoiceClick);\r\n  }\r\n  handleMessage(event) {\r\n     if (!this.state.SOCKETON) return;\r\n     var message = JSON.parse(event.data);\r\n     if (message.action === 'submit') this.handleReceiveAnswers(message.ans, message.user, message.tAns);\r\n     else if (message.action === 'usercheck') this.receiveUser(message.userID, message.nname, message.tExist);\r\n     else if (message.action === 'userend') this.endUser(message.userID);\r\n     else if (message.action === 'assign') this.receiveAssign(message.userID);\r\n     else if (message.action === 'unassign') this.receiveUnassign();\r\n     else if (message.action === 'emit-state') this.props.updatestate(message.tnum, message.cans);\r\n  }\r\n  startSocket(evt) {\r\n     let roomID = $('#socketID').val();\r\n     if ($('#teacherchck').prop(\"checked\") === true) roomID += 'T$';\r\n     let teacher_exists = 9999999999999;\r\n     this.setState({teacher_exists : teacher_exists});\r\n     if (roomID.match(/[A-Za-z0-9_-]+[T$]$/g) !== null) {\r\n        teacher_exists = new Date().getTime();\r\n        roomID = roomID.slice(0, -2);\r\n        $('#socketID').val(roomID);\r\n        this.setState({is_teacher : true, teacher_exists : teacher_exists});\r\n        setTimeout(function(){\r\n        if (this.state.is_teacher) {\r\n        stateInterval = setInterval(function() {\r\n        socket.send(JSON.stringify({action : 'emit-state', tnum : this.props.testnum, cans : this.props.curans}));\r\n        }.bind(this), 1580);\r\n        }\r\n        else {\r\n        clearInterval(stateInterval);\r\n        }\r\n        }.bind(this), 3000);\r\n     }\r\n     else $('#updateTest').css({'pointer-events' : 'none'});\r\n     if (roomID === '' || roomID.match(/[^A-Za-z0-9_-]+/g) !== null) return;\r\n     usernname = $('#nickname').val();\r\n     if (usernname === '') usernname = '*';\r\n     socket = new WebSocket(\"wss://connect.websocket.in/addlikefracs?room_id=\" + roomID);\r\n     socket.addEventListener('message', this.handleMessage.bind(this));\r\n     this.setState({SOCKETON : true});\r\n     window.UIkit.modal(document.getElementById('modal-example')).hide();\r\n     userID = String(Math.floor(Math.random() * 1000000));\r\n     $('#goToLearn').css({'pointer-events' : 'none'});\r\n     joinInterval = setInterval(function(){\r\n     socket.send(JSON.stringify({action : 'usercheck', userID : userID, nname : usernname, tExist : teacher_exists}));\r\n     }, 2000);\r\n  }\r\n  receiveUser(msg, name, tExist) {\r\n     for (var prop in this.state.users) if (this.state.users[prop] === msg) return;\r\n     let newUsers = this.state.users;\r\n     newUsers[String(this.state.numusers + 1)] = msg;\r\n     let newNames = this.state.nnames;\r\n     newNames[String(this.state.numusers + 1)] = name;\r\n     this.setState({numusers : this.state.numusers + 1, users : newUsers, nnames : newNames});\r\n\r\n     if (tExist < this.state.teacher_exists) {\r\n        this.setState({is_teacher : false, teacher_exists : true});\r\n     }\r\n  }\r\n  endUser(msg) {\r\n    if (this.state.curAssigned === msg) socket.send(JSON.stringify({action : 'unassign'}));\r\n    $('#' + msg).css({'pointer-events' : 'none', 'visibility' : 'hidden'});\r\n    $('#' + msg).prop('disabled', true);\r\n  }\r\n  handleAnswers(ans) {\r\n     let anscode;\r\n     let ansobj = {'A' : 0, 'B' : 1, 'C' : 2, 'D' : 3};\r\n     $('.choice-button').removeClass('wrong-answer');\r\n     if (this.props.testnum % this.props.pnum === 0) anscode = this.props.pnum;\r\n     else anscode = this.props.testnum % this.props.pnum;\r\n     let correctAnswer = this.props.probdata[this.props.curans - 1].fields[`testans${anscode}`];\r\n\r\n     if (this.state.SOCKETON) {\r\n     socket.send(JSON.stringify({action : 'submit', ans : ans, user : userID, tAns : this.state.is_teacher}));\r\n     }\r\n     if (ans === correctAnswer && ((!this.state.SOCKETON) || (this.state.SOCKETON && this.state.is_teacher))) {\r\n     this.props.correctans(this.props.curans < this.props.steps ? false : true);\r\n     }\r\n     else if (ans !== correctAnswer && ((!this.state.SOCKETON) || (this.state.SOCKETON && this.state.is_teacher))) {\r\n     $(`#${this.props.testcode}${this.props.curans - 1}${ansobj[ans]}`).addClass('wrong-answer');\r\n     this.props.incorrectans();\r\n     }\r\n  }\r\n  handleReceiveAnswers(ans, id, tans) {\r\n     if (this.state.is_teacher) {\r\n     var choice_colors = {'a' : 'rgb(150, 226, 252)', 'b' : 'rgb(178, 178, 204)',\r\n                          'c' : 'rgb(153, 229, 153)', 'd' : 'rgb(228, 203, 228)'};\r\n     if (!ans) $(`#${id}`).css({'background-color' : '#ffffff'});\r\n     else $(`#${id}`).css({'background-color' : choice_colors[ans.toLowerCase()]});\r\n     }\r\n     else if (tans) {\r\n     let anscode;\r\n     if (this.props.testnum % this.props.pnum === 0) anscode = this.props.pnum;\r\n     else anscode = this.props.testnum % this.props.pnum;\r\n     let correctAnswer = this.props.probdata[this.props.curans - 1].fields[`testans${anscode}`];\r\n     if (ans === correctAnswer) {\r\n     this.props.correctans(this.props.curans < this.props.probdata.length - 2 ? false : true);\r\n     $('.choice-button').removeClass('hvr-bob');\r\n     }\r\n     }\r\n  }\r\n  clearAnswer() {\r\n     this.editor.clear();\r\n     $('#answerInput').css({'color' : '#fafafa'});\r\n     setTimeout(function(){$('#answerInput').css({'color' : 'black'});}, 1000);\r\n  }\r\n  sendAssign(evt) {\r\n     let blockAll = this.state.curAssigned === 'teacher';\r\n     if (evt.currentTarget.id === 'ban-button' && this.state.is_teacher && !blockAll) {\r\n        $('#ban-button').css({'background-color' : 'rgba(255, 0, 0, 0.8)'});\r\n        $('.userbutton').css({'background-color' : '#ffffff'});\r\n        this.setState({curAssigned : 'teacher'});\r\n        banInterval = setInterval(function(){\r\n           socket.send(JSON.stringify({action : 'assign', userID : 'teacher'}));\r\n        }, 2000);\r\n        return;\r\n     }\r\n     else if (evt.currentTarget.id === 'ban-button' && this.state.is_teacher && blockAll) {\r\n        $('#ban-button').css({'background-color' : 'lightblue'});\r\n        socket.send(JSON.stringify({action : 'unassign'}));\r\n        this.setState({curAssigned : false});\r\n        clearInterval(banInterval);\r\n        return;\r\n     }\r\n     else if ($('#' + evt.currentTarget.id).css('background-color') !== 'rgb(144, 238, 144)') {\r\n        clearInterval(banInterval);\r\n        $('#ban-button').css({'background-color' : 'lightblue'});\r\n        $('#' + evt.currentTarget.id).css({'background-color' : 'rgb(235, 233, 141)'});\r\n        $('.userbutton').not('#' + evt.currentTarget.id).css({'background-color' : '#ffffff'});\r\n        socket.send(JSON.stringify({action : 'assign', userID : evt.currentTarget.id}));\r\n        this.setState({curAssigned : evt.currentTarget.id});\r\n     }\r\n     else {\r\n        $('#ban-button').css({'background-color' : 'lightblue'});\r\n        $('#' + evt.currentTarget.id).css({'background-color' : '#ffffff'});\r\n        socket.send(JSON.stringify({action : 'unassign'}));\r\n        this.setState({curAssigned : false});\r\n     }\r\n  }\r\n  receiveAssign(id) {\r\n     if (userID === id && this.state.curAssigned === false) {\r\n        $('#coverCanvas').css({'display' : 'none'});\r\n        $('#assignModal').trigger('click');\r\n        this.setState({curAssigned : true});\r\n     }\r\n     else if (userID === id && this.state.curAssigned === true) {\r\n        this.setState({curAssigned : false});\r\n     }\r\n     else if (userID !== id) {\r\n        $('#coverCanvas').css({'display' : 'inline'});\r\n        this.setState({curAssigned : false});\r\n     }\r\n  }\r\n  receiveUnassign() {\r\n     $('#coverCanvas').css({'display' : 'none'});\r\n     this.setState({curAssigned : false});\r\n  }\r\n  setTalkVol() {\r\n     if (this.state.talkVol === 1) {window.speechSynthesis.cancel(); this.setState({talkVol : 0});}\r\n     else {this.setState({talkVol : 1});}\r\n  }\r\n  render() {\r\n    let socketStyle, multChoiceButs;\r\n    let userbuttons = [];\r\n\r\n    if (this.state.SOCKETON) socketStyle = {backgroundColor : '#00ff00'};\r\n    else socketStyle = {backgroundColor : '#D3D3D3'};\r\n    if (this.state.is_teacher) socketStyle = {backgroundColor : '#ff00ff'};\r\n\r\n    let userlist = Object.keys(this.state.users);\r\n    let namelist = Object.keys(this.state.nnames);\r\n    for (var a = 0; a < userlist.length; a++) {\r\n    let toppos = (a + 1) * 35 + 5;\r\n    userbuttons.push(\r\n      <button className='userbutton uk-animation-slide-left' key={a} id={this.state.users[userlist[a]]} uk-tooltip={`title: ${this.state.nnames[namelist[a]]}; pos: right`} style={{top : toppos}}>\r\n      <span uk-icon=\"happy\"></span>\r\n      </button>\r\n    );\r\n    }\r\n\r\n    if (this.props.curans <= this.props.probdata.length - 2 && !this.state.SOCKETON && this.state.talkVol === 1 && this.props.curans !== oldAns) {\r\n    var synth = window.speechSynthesis;\r\n    var utter = new SpeechSynthesisUtterance(this.props.probdata[this.props.curans - 1].fields[`${this.props.testcode}readable`]);\r\n    utter.volume = this.state.talkVol;\r\n    setTimeout(function(){utter.voice = voices[5]; synth.speak(utter);}, 1000);\r\n    oldAns = this.props.curans;\r\n    }\r\n\r\n    let attachNum = 0;\r\n    if (this.props.mediaDimTag === '_square') attachNum = 1;\r\n    let testcode\r\n    if (this.props.testnum % this.props.pnum === 1 || this.props.pnum === 1) testcode = 'testimg';\r\n    else if (this.props.testnum % this.props.pnum === 0) testcode = `testimg${this.props.pnum}`;\r\n    else testcode = `testimg${this.props.testnum % this.props.pnum}`;\r\n\r\n    let srccode = this.props.curans - 1;\r\n    if (this.props.curans >= this.props.steps) srccode = this.props.steps - 1;\r\n    let src = this.props.probdata[srccode].fields[testcode][attachNum].url;\r\n    return (\r\n    <div id='interactive'>\r\n    <img id='curTestImg' src={src} alt='' style={{height : '90%'}} />\r\n    <img onClick={this.setTalkVol} id='talkicon' src='audio_icon.svg' alt='' style={{opacity : ((1 - this.state.talkVol) * 1.5) / 1.5 + 0.2}} />\r\n    {this.props.curmode === 'test' ? multChoiceButs : null}\r\n    <button id='openModal' type=\"button\" uk-toggle=\"target: #modal-example\" style={socketStyle}><span uk-icon=\"more\"></span></button>\r\n    <button id='assignModal' type=\"button\" uk-toggle=\"target: #modal-assign\" style={{display : 'none'}}></button>\r\n\r\n    <div id=\"modal-example\" uk-modal='true'>\r\n    <div className=\"uk-modal-dialog uk-modal-body uk-overflow-auto\">\r\n    <button className=\"uk-modal-close-default\" type=\"button\" uk-close='true'></button>\r\n    <h4 className=\"uk-modal-title\">Guided Practice</h4>\r\n    <p className='uk-text-justify'>Enter a Room ID (e.g., mrscala_203). Then click to join an interactive practice session. If you are leading, share the ID for others to join. If you are joining, enter the ID shared with you and enter a name if you want to.</p>\r\n    <p className=\"uk-text-right\"><input id='socketID' placeholder='Room ID'></input></p>\r\n    <p className=\"uk-text-right\"><input id='nickname' placeholder='Name | Nickname' maxLength='10'></input></p>\r\n    <p className='uk-text-justify'>Entering numbers, letters, hyphens, and underscore characters is okay, up to a maximum of 20 characters.</p>\r\n    <p className=\"uk-text-right\">\r\n    <button className=\"uk-button uk-button-primary\" type=\"button\" onClick={this.startSocket}>Join Session</button><br />\r\n    <input type='checkbox' className='uk-checkbox' name='teachercheck' id='teacherchck' />\r\n    <label htmlFor='teachercheck'>&nbsp;&nbsp;Teacher</label>\r\n    </p>\r\n    </div>\r\n    </div>\r\n\r\n    {this.state.is_teacher ? <div id='userSideBar' style={{position : 'fixed', top : 0, left : 0, width : 150, height : '100vh', backgroundColor : 'navy'}}>\r\n    {this.state.is_teacher ? userbuttons : null}\r\n    {this.state.is_teacher ? <button className='banbutton' id='ban-button' style={{top : 0, left : 0}} onClick={this.sendAssign}><span uk-icon=\"ban\"></span></button> : null}\r\n    </div> : null}\r\n    <div id='coverCanvas'></div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InteractiveSVG;\r\n","import React, {Component} from 'react';\r\nimport StepCard from './StepCard';\r\nimport Reflect from './Reflect';\r\nimport InteractiveSVG from './InteractiveSVG';\r\nimport $ from 'jquery';\r\n\r\nvar stars;\r\nlet c, b;\r\n\r\nclass ImageInteractivePractice extends Component {\r\n   constructor() {\r\n      super();\r\n      this.state = {\r\n      currentButton : 1, mode : 'learn', currentAnswerMark : 1, mediaDimTag : '',\r\n      testKey : 1, audioVol : 1, userTested : false, PNUM : null, testPointsPer : 50, learnPointsPer : 100, lastTestPointsPer : null\r\n      };\r\n      this.childClick = this.childClick.bind(this);\r\n      this.startOver = this.startOver.bind(this);\r\n      this.reset = this.reset.bind(this);\r\n      this.upOne = this.upOne.bind(this);\r\n      this.testMode = this.testMode.bind(this);\r\n      this.learnMode = this.learnMode.bind(this);\r\n      this.correctAnswer = this.correctAnswer.bind(this);\r\n      this.updateTest = this.updateTest.bind(this);\r\n      this.setAudio = this.setAudio.bind(this);\r\n      this.repeatStep = this.repeatStep.bind(this);\r\n      this.userTested = this.userTested.bind(this);\r\n      this.updateState = this.updateState.bind(this);\r\n      this.updateMedia = this.updateMedia.bind(this);\r\n      this.incorrectAnswer = this.incorrectAnswer.bind(this);\r\n      this.checkScore = this.checkScore.bind(this);\r\n   }\r\n   userTested(res) {\r\n      if (res) this.setState({userTested : true});\r\n   }\r\n   updateMedia() {\r\n     let wdt = $('#media-container').width();\r\n     let hgt = $('#media-container').height();\r\n     let mediatag;\r\n     if (wdt / hgt <= 1.2) mediatag = '_square';\r\n     else mediatag = '';\r\n     this.setState({mediaDimTag : mediatag, PNUM : this.props.pnum, testPointsPer : this.props.clickData.lastTestPointsPer});\r\n     if (wdt / hgt > 1.72) this.setState({mediaDims : {height : '65vh'}});\r\n     else this.setState({mediaDims : {height : '54vh'}});\r\n   }\r\n   componentDidMount() {\r\n      this.updateMedia();\r\n      let wdt = $('#media-container').width();\r\n      let hgt = $('#media-container').height();\r\n      if (wdt / hgt > 1.72) this.setState({mediaDims : {height : '65vh'}});\r\n      window.addEventListener('resize', this.updateMedia.bind(this));\r\n      setTimeout(function(){window.MathJax.Hub.Queue(['Typeset', window.MathJax.Hub]);}, 50);\r\n      let pointTotal = this.props.probdata[0].fields.pointTotal;\r\n      b = (JSON.parse(localStorage.getItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_'))))).banked_score;\r\n      c = (JSON.parse(localStorage.getItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_'))))).score;\r\n      if (b < 0.33 * pointTotal) stars = 'zero_stars.svg';\r\n      else if (b >= 0.33 * pointTotal && b < 0.66 * pointTotal) stars = 'one_star.svg';\r\n      else if (b >= 0.66 * pointTotal && b < 0.81 * pointTotal) stars = 'two_stars.svg';\r\n      else stars = 'three_stars.svg';\r\n      $('#banktext').text(String(b));\r\n      $('#showbank').text(String(b));\r\n      $('#showbank2').text(String(b));\r\n      $('#showscore').text(String(c));\r\n      $('#showstars').attr('src', stars);\r\n   }\r\n   childClick() {\r\n      if (this.state.mode === 'test') return;\r\n      this.setState({currentButton : this.state.currentButton + 1}, function() {\r\n      const stepWindow = document.getElementById('steps-container');\r\n      const stepWindowLoc = document.getElementById('steps-container').offsetTop;\r\n      const cardLoc = document.getElementById(`card${this.state.currentButton - 1}`).offsetTop;\r\n      setTimeout(function(){stepWindow.scroll({top: cardLoc - stepWindowLoc - 2, behavior: 'smooth' });}, 800);\r\n      });\r\n      let sounds = document.getElementsByTagName('audio');\r\n      for (let i = 0; i < sounds.length; i++) {sounds[i].pause(); sounds[i].currentTime = 0}\r\n      let audio = document.getElementById(`${this.props.audio_abbrev}${this.state.currentButton}`);\r\n      if (audio) {\r\n         audio.src = this.props.probdata[this.state.currentButton - 1].fields.learnaudio[0].url || null;\r\n         audio.volume = this.state.audioVol;\r\n         setTimeout(function(){audio.play();}, 800);\r\n      }\r\n   }\r\n   correctAnswer(fin) {\r\n      this.setState({currentAnswerMark : this.state.currentAnswerMark + 1}, function() {\r\n      const stepWindow = document.getElementById('steps-container');\r\n      const stepWindowLoc = document.getElementById('steps-container').offsetTop;\r\n      if (!fin) {\r\n         const cardLoc = document.getElementById(`card${this.state.currentAnswerMark}`).offsetTop;\r\n         setTimeout(function(){stepWindow.scroll({top: cardLoc - stepWindowLoc - 2, behavior: 'smooth' });}, 800);\r\n      }\r\n      else {\r\n         setTimeout(function(){stepWindow.scroll({top: 9999, behavior: 'smooth' });}, 800);\r\n      }\r\n      if (this.state.currentAnswerMark > this.props.probdata.length - 2) {\r\n      $('.choice-button').attr('disabled', true);\r\n      }\r\n      });\r\n      $('.userbutton').css({'background-color' : '#ffffff'});\r\n      var choice_colors = {'A' : 'rgba(150, 226, 252, 0.5)', 'B' : 'rgba(178, 178, 204, 0.5)',\r\n                           'C' : 'rgba(153, 229, 153, 0.5)', 'D' : 'rgba(228, 203, 228, 0.5)'};\r\n      var choice_map = {'A' : 0, 'B' : 1, 'C' : 2, 'D' : 3};\r\n      let testcode, testch;\r\n      if (this.state.testKey % this.state.PNUM === 1 || this.state.PNUM === 1) {testcode = 'test'; testch = 1;}\r\n      else if (this.state.testKey % this.state.PNUM === 0) {testcode = `test${this.state.PNUM}`; testch = this.state.PNUM;}\r\n      else {testcode = `test${this.state.testKey % this.state.PNUM}`; testch = this.state.testKey % this.state.PNUM;}\r\n      let corLtr = this.props.probdata[this.state.currentAnswerMark - 2].fields[`testans${testch}`];\r\n      $(`#${testcode}${this.state.currentAnswerMark - 2}${choice_map[corLtr]}`).css('background-color', choice_colors[corLtr]);\r\n      if (this.state.testKey % this.state.PNUM !== 0) {\r\n         this.setState({testPointsPer : 50, lastTestPointsPer : 50});\r\n         let data = this.props.clickData;\r\n         data.lastTestPointsPer = 50;\r\n         localStorage.setItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_')), JSON.stringify(data));\r\n      }\r\n      else if (this.state.testKey % this.state.PNUM === 0 && this.state.currentAnswerMark > this.props.probdata.length - 2) {\r\n         let data = this.props.clickData;\r\n         let timer;\r\n         let curBank = 0;\r\n         $('#progressbar').animate({'width' : '0%'}, 2000);\r\n         timer = setInterval(function() {\r\n            if (curBank === data.banked_score) {clearInterval(timer); return;}\r\n            else {\r\n            curBank = Number($('#banktext').text());\r\n            curBank += 1;\r\n            $('#banktext').text(String(curBank));\r\n            }\r\n            }, 2);\r\n         data.banked_score += data.score;\r\n         data.score = 0;\r\n         localStorage.setItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_')), JSON.stringify(data));\r\n         let ding = document.getElementById('quizshow');\r\n         ding.pause();\r\n         ding.currentTime = 0;\r\n         let dong = document.getElementById('quizshowend');\r\n         dong.volume = 0.25;\r\n         dong.play();\r\n         let p = this.props.probdata[0].fields.pointTotal;\r\n         let stars;\r\n         if (data.banked_score < 0.33 * p) stars = 'zero_stars.svg';\r\n         else if (data.banked_score >= 0.33 * p && data.banked_score < 0.66 * p) stars = 'one_star.svg';\r\n         else if (data.banked_score >= 0.66 * p && data.banked_score < 0.81 * p) stars = 'two_stars.svg';\r\n         else stars = 'three_stars.svg';\r\n         $('#showstars').attr('src', stars);\r\n      }\r\n   }\r\n   incorrectAnswer() {\r\n      if (this.state.testKey % this.state.PNUM !== 0) {\r\n      let data = this.props.clickData;\r\n      data.lastTestPointsPer = Math.ceil(this.state.testPointsPer / 2);\r\n      localStorage.setItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_')), JSON.stringify(data));\r\n      this.setState({testPointsPer : Math.ceil(this.state.testPointsPer / 2), lastTestPointsPer : Math.ceil(this.state.testPointsPer / 2)});\r\n      }\r\n      else {\r\n      let data = this.props.clickData;\r\n      data.score = data.score / 2;\r\n      localStorage.setItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_')), JSON.stringify(data));\r\n      $('#progressbar').animate({'width' : `${data.score / this.props.probdata[0].fields.pointTotal * 100}%`});\r\n      }\r\n   }\r\n   startOver() {\r\n      this.setState({currentButton : 2}, function() {\r\n         let sounds = document.getElementsByTagName('audio');\r\n         for (let i = 0; i < sounds.length; i++) {sounds[i].pause(); sounds[i].currentTime = 0}\r\n         let audio = document.getElementById(`${this.props.audio_abbrev}${this.state.currentButton - 1}`);\r\n         if (audio) {\r\n         audio.src = this.props.probdata[this.state.currentButton - 2].fields.learnaudio[0].url || null;\r\n         audio.volume = this.state.audioVol;\r\n         audio.play();\r\n         }\r\n         }\r\n      );\r\n      const stepWindow = document.getElementById('steps-container');\r\n      stepWindow.scroll({top: 0, behavior: 'smooth' });\r\n      $('#reflectQuestion').val('');\r\n   }\r\n   reset() {\r\n      this.setState({currentButton : 1}, function() {\r\n         let sounds = document.getElementsByTagName('audio');\r\n         for (let i = 0; i < sounds.length; i++) {sounds[i].pause(); sounds[i].currentTime = 0}\r\n         }\r\n      );\r\n      const stepWindow = document.getElementById('steps-container');\r\n      stepWindow.scroll({top: 0, behavior: 'smooth' });\r\n      $('#reflectQuestion').val('');\r\n   }\r\n   upOne(evt) {\r\n      let sounds = document.getElementsByTagName('audio');\r\n      for (let i = 0; i < sounds.length; i++) {sounds[i].pause(); sounds[i].currentTime = 0}\r\n      let audio = document.getElementById(`${this.props.audio_abbrev}${this.state.currentButton - 2}`);\r\n      if (audio) {\r\n         audio.src = this.props.probdata[this.state.currentButton - 3].fields.learnaudio[0].url || null;\r\n         audio.volume = this.state.audioVol;\r\n         audio.play();\r\n      }\r\n      evt.stopPropagation();\r\n      this.setState({currentButton : this.state.currentButton - 1}, function() {\r\n      if (this.state.currentButton > 1) {\r\n      const stepWindow = document.getElementById('steps-container');\r\n      const stepWindowLoc = document.getElementById('steps-container').offsetTop;\r\n      const cardLoc = document.getElementById(`card${this.state.currentButton - 1}`).offsetTop;\r\n      setTimeout(function(){stepWindow.scroll({top: cardLoc - stepWindowLoc, behavior: 'smooth' });}, 100);\r\n      }\r\n      });\r\n   }\r\n   repeatStep(evt) {\r\n      let sounds = document.getElementsByTagName('audio');\r\n      for (let i = 0; i < sounds.length; i++) {sounds[i].pause(); sounds[i].currentTime = 0}\r\n      let audio = document.getElementById(`${this.props.audio_abbrev}${this.state.currentButton - 1}`);\r\n      if (audio) {\r\n         audio.src = this.props.probdata[this.state.currentButton - 2].fields.learnaudio[0].url || null;\r\n         audio.volume = this.state.audioVol;\r\n         audio.play();\r\n      }\r\n      evt.stopPropagation();\r\n   }\r\n   setAudio() {\r\n      let level = this.state.audioVol;\r\n      if (level === 0) level = 1;\r\n      else level = 0;\r\n      this.setState({audioVol : level}, function() {\r\n      let audio = document.getElementById(`${this.props.audio_abbrev}${this.state.currentButton - 1}`);\r\n      if (audio) audio.volume = level;\r\n      });\r\n   }\r\n   testMode() {\r\n      this.setState({currentButton : 2, mode : 'test', currentAnswerMark : 1});\r\n      setTimeout(function(){window.MathJax.Hub.Queue(['Typeset', window.MathJax.Hub]);}, 50);\r\n      const stepWindow = document.getElementById('steps-container');\r\n      stepWindow.scroll({top: 0, behavior: 'smooth' });\r\n      let sound = document.getElementById(`${this.props.audio_abbrev}${this.state.currentButton - 1}`);\r\n      if (sound) {sound.pause(); sound.currentTime = 0;}\r\n   }\r\n   updateTest() {\r\n      $('.choice-button').attr('disabled', false);\r\n      $('.choice-button').css('background-color', 'initial');\r\n      let testnumber = this.state.testKey + 1;\r\n      this.setState({currentButton : 2, mode : 'test', currentAnswerMark : 1, testKey : testnumber}, function() {\r\n      let ding = document.getElementById('quizshow');\r\n      if (this.state.testKey % this.state.PNUM === 0) {\r\n         ding.volume = 0.09;\r\n         ding.play();\r\n      }\r\n      else {ding.pause(); ding.currentTime = 0;}\r\n      });\r\n      setTimeout(function(){window.MathJax.Hub.Queue(['Typeset', window.MathJax.Hub]);}, 50);\r\n      const stepWindow = document.getElementById('steps-container');\r\n      stepWindow.scroll({top: 0, behavior: 'smooth' });\r\n   }\r\n   learnMode() {\r\n      this.setState({currentButton : 1, mode : 'learn', currentAnswerMark : 1});\r\n      setTimeout(function(){window.MathJax.Hub.Queue(['Typeset', window.MathJax.Hub]);}, 50);\r\n      const stepWindow = document.getElementById('steps-container');\r\n      stepWindow.scroll({top: 0, behavior: 'smooth' });\r\n   }\r\n   updateState(num, ans) {\r\n      this.setState({testKey : num, currentAnswerMark : ans, mode : 'test'});\r\n      setTimeout(function(){window.MathJax.Hub.Queue(['Typeset', window.MathJax.Hub]);}, 50);\r\n      if (ans <= this.state.PNUM) {\r\n      const cardLoc = document.getElementById(`card${ans}`).offsetTop;\r\n      const stepWindow = document.getElementById('steps-container');\r\n      const stepWindowLoc = document.getElementById('steps-container').offsetTop;\r\n      setTimeout(function(){\r\n      stepWindow.scroll({top: cardLoc - stepWindowLoc, behavior: 'smooth' });\r\n      }, 800);\r\n      }\r\n   }\r\n   checkScore() {\r\n      b = (JSON.parse(localStorage.getItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_'))))).banked_score;\r\n      c = (JSON.parse(localStorage.getItem(this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_'))))).score;\r\n\r\n      if (b < 0.33 * this.props.probdata[0].fields.pointTotal) stars = 'zero_stars.svg';\r\n      else if (b >= 0.33 * this.props.probdata[0].fields.pointTotal && b < 0.66 * this.props.probdata[0].fields.pointTotal) stars = 'one_star.svg';\r\n      else if (b >= 0.66 * this.props.probdata[0].fields.pointTotal && b < 0.81 * this.props.probdata[0].fields.pointTotal) stars = 'two_stars.svg';\r\n      else stars = 'three_stars.svg';\r\n      $('#showbank').text(String(b));\r\n      $('#showscore').text(String(c));\r\n   }\r\n   render() {\r\n      if (!this.props.probdata) return null;\r\n      let modeMedia, butStyle, buttonChoices, mediaStyle, testText, reflect, audvis, testcode, tst, steps;\r\n      let multChoiceButs = [];\r\n      let stepCards = [];\r\n      mediaStyle = this.state.mediaDims;\r\n\r\n      if (this.state.currentButton <= this.props.probdata.length - 2) butStyle = {pointerEvents : 'none', backgroundColor : this.props.discolor};\r\n      else butStyle = {pointerEvents : 'all', backgroundColor : 'white'};\r\n\r\n      if (this.state.mode === 'learn') {\r\n      $('#media-container').css({'background' : 'radial-gradient(white, #fafafa)'});\r\n      for (let a = 0; a < this.props.probdata.length - 2; a++) {\r\n         stepCards.push(<StepCard key={this.props.probdata[a].fields.id} label={this.props.probdata[a].fields.label} text={this.props.probdata[a].fields.text} probdata={this.props.probdata} order={this.props.probdata[a].fields.order} handler={this.childClick} curbut={this.state.currentButton} curmode={this.state.mode} upone={this.upOne} repstep={this.repeatStep} primcolor={this.props.primcolor} seccolor={this.props.seccolor} discolor={this.props.discolor} dislabel={this.props.dislabel} margbot={a === this.props.probdata.length - 3 ? 'uk-margin-large-bottom' : 'uk-margin-small-bottom'} clickData={this.props.clickData} abbrev={this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_'))} learnpointsper = {this.state.learnPointsPer} />)\r\n      }\r\n\r\n      buttonChoices = (\r\n         <span>\r\n         <button onClick={this.startOver} className='uk-button uk-button-default uk-button-small uk-width-1-3' style={butStyle}>redo</button>\r\n\r\n         <button style={{backgroundColor : this.props.seccolor}} onClick={this.reset} className='uk-button uk-button-secondary uk-button-small uk-width-1-3'>clear</button>\r\n\r\n         <button style={{backgroundColor : this.props.primcolor}} onClick={this.testMode} className='uk-button uk-button-primary uk-button-small uk-width-1-3'>show</button>\r\n         </span>\r\n      );\r\n      let attachNum = 0;\r\n      if (this.state.mediaDimTag === '_square') attachNum = 1;\r\n      let src;\r\n      if (this.state.currentButton === 1) src = `sbs_mtfr_coverimg${this.state.mediaDimTag}.svg`;\r\n      else src = this.props.probdata[this.state.currentButton - 2].fields.learnimg[attachNum].url;\r\n      modeMedia = <img src={src} alt='' />;\r\n      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n         audvis = 'hidden';\r\n      }\r\n      else audvis = 'visible';\r\n      reflect = <Reflect suganswer={this.props.probdata[this.props.probdata.length - 1].fields.text} reflectQ={this.props.probdata[this.props.probdata.length - 2].fields.text} />;\r\n      }\r\n      else  {\r\n      $('#media-container').css({\r\n      'background-image': 'radial-gradient(#e3e3e3 20%, transparent 20%), radial-gradient(#fafafa 20%, transparent 20%)',\r\n      'background-color': 'white', 'background-position': '0 0, 50px 50px', 'background-size': '10px 10px'\r\n      });\r\n      if (this.state.currentButton < this.props.probdata.length - 2) butStyle = {pointerEvents : 'none', backgroundColor : this.props.discolor};\r\n      else butStyle = {pointerEvents : 'all', backgroundColor : 'white'};\r\n\r\n      if (this.state.testKey % this.state.PNUM === 1 || this.state.PNUM === 1) testcode = 'test';\r\n      else if (this.state.testKey % this.state.PNUM === 0) testcode = `test${this.state.PNUM}`;\r\n      else testcode = `test${this.state.testKey % this.state.PNUM}`;\r\n\r\n      steps = 0;\r\n      for (var q = 0; q < this.props.probdata.length - 2; q++) {\r\n         if (this.props.probdata[q].fields[testcode] !== undefined) steps += 1;\r\n      }\r\n\r\n      buttonChoices = (\r\n         <span>\r\n         <button id='goToLearn' style={{backgroundColor : this.props.seccolor}} onClick={this.learnMode} className='uk-button uk-button-primary uk-button-small uk-width-1-2'>learn&thinsp;<span uk-icon='social'></span></button>\r\n\r\n         <button id='updateTest' style={{backgroundColor : this.props.primcolor}} onClick={this.updateTest} className='uk-button uk-button-secondary uk-button-small uk-width-1-2'>{this.state.testKey % this.state.PNUM !== 0 ? 'next' : 'again'}</button>\r\n         </span>\r\n      );\r\n\r\n      for (let a = 0; a < steps; a++) {\r\n         multChoiceButs = [];\r\n         if (this.state.testKey % this.state.PNUM === 1 || this.state.PNUM === 1) testText = this.props.probdata[a].fields[testcode];\r\n         else if (this.state.testKey % this.state.PNUM === 0) testText = this.props.probdata[a].fields[`test${this.state.PNUM}`];\r\n         else testText = this.props.probdata[a].fields[`test${this.state.testKey % this.state.PNUM}`];\r\n\r\n        multChoiceButs.push(\r\n        <div key={`${testcode}${a}`}>\r\n        {this.props.probdata[a].fields[`${testcode}butenabled`].indexOf('A') !== -1 ? <button id={`${testcode}${a}0`} className='choice-button choiceA' style={this.props.probdata[a].fields.order > this.state.currentAnswerMark ? {display : 'none'} : {display : 'flex'}}><span style={{color : '#33ccff'}}></span>&nbsp;&nbsp; {this.props.probdata[a].fields[`${testcode}choiceA`]}</button> : null}\r\n        {this.props.probdata[a].fields[`${testcode}butenabled`].indexOf('B') !== -1 ? <button id={`${testcode}${a}1`} className='choice-button choiceB' style={this.props.probdata[a].fields.order > this.state.currentAnswerMark ? {display : 'none'} : {display : 'flex'}}><span style={{color : '#8a8ab1'}}></span>&nbsp;&nbsp; {this.props.probdata[a].fields[`${testcode}choiceB`]}</button> : null}\r\n        {this.props.probdata[a].fields[`${testcode}butenabled`].indexOf('C') !== -1 ? <button id={`${testcode}${a}2`} className='choice-button choiceC' style={this.props.probdata[a].fields.order > this.state.currentAnswerMark ? {display : 'none'} : {display : 'flex'}}><span style={{color : '#33cc33'}}></span>&nbsp;&nbsp; {this.props.probdata[a].fields[`${testcode}choiceC`]}</button> : null}\r\n        {this.props.probdata[a].fields[`${testcode}butenabled`].indexOf('D') !== -1 ? <button id={`${testcode}${a}3`} className='choice-button choiceD' style={this.props.probdata[a].fields.order > this.state.currentAnswerMark ? {display : 'none'} : {display : 'flex'}}><span style={{color : '#cc99cc'}}></span>&nbsp;&nbsp; {this.props.probdata[a].fields[`${testcode}choiceD`]}</button> : null}\r\n        </div>\r\n        );\r\n\r\n         stepCards.push(<StepCard key={this.props.probdata[a].fields.id} label={this.props.probdata[a].fields.testLabel} text={testText} order={this.props.probdata[a].fields.order} handler={this.childClick} curbut={this.state.currentButton} curmode={this.state.mode} curmark={this.state.currentAnswerMark} primcolor={this.props.primcolor} seccolor={this.props.seccolor} discolor={this.props.discolor} dislabel={this.props.dislabel} margbot='uk-margin-small-bottom' multbuts={multChoiceButs} probdata={this.props.probdata} curans={this.state.currentAnswerMark} clickData={this.props.clickData} abbrev={this.props.audio_abbrev.slice(0, this.props.audio_abbrev.indexOf('_'))} testnum={this.state.testKey} testpointsper={this.state.testPointsPer} pnum={this.state.PNUM} />)\r\n      }\r\n\r\n      modeMedia = <InteractiveSVG testnum={this.state.testKey} curbut={this.state.currentButton} correctans={this.correctAnswer} curans={this.state.currentAnswerMark} tested={this.userTested} pnum={this.state.PNUM} updatestate = {this.updateState} probdata={this.props.probdata} mediaDimTag={this.state.mediaDimTag} curmode={this.state.mode} testcode={testcode} steps={steps} incorrectans={this.incorrectAnswer} />;\r\n\r\n      reflect = null;\r\n      audvis = 'hidden';\r\n\r\n      if (this.state.PNUM === 1) tst = this.state.currentAnswerMark;\r\n      else if (testcode === 'test') tst = '1';\r\n      else tst = testcode.slice(4);\r\n\r\n      if (this.state.PNUM === 1 && this.state.currentAnswerMark > this.props.probdata.length - 2) tst = this.props.probdata.length - 2;\r\n      }\r\n      return (\r\n      <div>\r\n\t\t  <div className='meter animate'>\r\n\t\t\t<span id='progressbar'><span></span></span>\r\n\t\t  </div>\r\n      <button id='bankModal' onClick={this.checkScore} type=\"button\" uk-toggle=\"target: #modal-score\"><img src='star_icon.svg' alt='' style={{height:'90%', marginRight:8, verticalAlign:-1.5, boxShadow:'none'}} /><span id='banktext' style={{verticalAlign:-0.75}}></span></button>\r\n      <div id='media-container' className='uk-container uk-cover-container uk-width-1-2@m uk-border-rounded' style={mediaStyle}>\r\n      {modeMedia}\r\n      <img onClick={this.setAudio} id='soundicon' src='audio_icon.svg' alt='' style={{opacity : ((1 - this.state.audioVol) * 1.5) / 1.5 + 0.2, visibility : audvis}} />\r\n      {this.state.mode === 'test' ? <div id='testNumber'>{tst}</div> : null}\r\n      </div>\r\n      <div id='steps-container' className='uk-container uk-width-1-2@m'>\r\n      {stepCards}\r\n      {reflect}\r\n      {buttonChoices}\r\n      </div>\r\n\r\n      <div id=\"modal-score\" uk-modal='true'>\r\n      <div className=\"uk-modal-dialog uk-modal-body uk-overflow-auto\">\r\n      <button className=\"uk-modal-close-default\" type=\"button\" uk-close='true'></button>\r\n      <h4 className=\"uk-modal-title\">Score 'n' Stuff</h4>\r\n\r\n      <div className=\"uk-child-width-1-2@s uk-grid-collapse uk-text-center\" uk-grid='true'>\r\n\r\n      <div className=\"uk-tile uk-tile-secondary\">\r\n      <h3 className=\"uk-card-title\">Personal Best</h3>\r\n      <img id='showstars' src={stars} alt='' />\r\n      <p id='showbank2'></p>\r\n      </div>\r\n\r\n      <div className=\"uk-tile uk-tile-primary\">\r\n      <h3 className=\"uk-card-title\">Reset</h3>\r\n      <button onClick={function(){if (window.confirm('Reset score?')) {window.localStorage.removeItem('mtfr'); window.location.reload();}}} className='uk-button uk-button-danger'>reset</button>\r\n      </div>\r\n\r\n      </div>\r\n      <p className='uk-text-justify'>So far, you have earned <span id='showscore'></span> points. You can bank all of these points on the final quiz if you make no errors. You have <span id='showbank'></span> points in the bank. Press Reset to clear your score and go for a new personal best!</p>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default ImageInteractivePractice;\r\n","import React, {Component} from 'react';\r\nimport ImageInteractivePractice from './ImageInteractivePractice';\r\nimport smoothscroll from 'smoothscroll-polyfill';\r\n\r\nlet prob_data = null;\r\nlet testCount = null;\r\nlet audio_abbrev = 'mtfr_narration';\r\nlet clickData;\r\n\r\nclass App extends Component {\r\n   constructor() {\r\n      super();\r\n      this.state = {data : null, PNUM : null};\r\n   }\r\n   componentDidMount() {\r\n      fetch('https://api.airtable.com/v0/appbJvIOkBMSrEz8z/Multiplying%20Fractions?api_key=keyuFtFTBZMHrzjOn')\r\n      .then((resp) => resp.json())\r\n      .then(data => {\r\n      prob_data = data.records.sort(function(a, b){return a.fields.order - b.fields.order});\r\n      testCount = 0;\r\n      for (var a = 0; a < (Object.keys(prob_data[0].fields)).length; a++) {\r\n      if ((Object.keys(prob_data[0].fields))[a].match(/^test\\d*$/)) testCount += 1;\r\n      }\r\n      this.setState({data : prob_data, PNUM : testCount});\r\n      });\r\n      window.onbeforeunload = function() {window.speechSynthesis.cancel();};\r\n      smoothscroll.polyfill();\r\n      if (localStorage.getItem('mtfr') === null) {\r\n      let mtfr = {score : 0, banked_score : 0, lastTestPointsPer : 50, learn : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test1 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test2 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test3 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test4 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test5 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test6 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test7 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test8 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}, test9 : {step1 : false, step2 : false, step3 : false, step4 : false, step5 : false, step6 : false, step7 : false, step8 : false, step9 : false, step10 : false}};\r\n      localStorage.setItem('mtfr', JSON.stringify(mtfr));\r\n      }\r\n      clickData = JSON.parse(localStorage.getItem('mtfr'));\r\n   }\r\n   render() {\r\n      if (!prob_data && !testCount) return null;\r\n      let primary = '#4499cc';\r\n      let secondary = '#557722';\r\n      const disabled = '#D3D3D3';\r\n      let dislabel = '#aaccdd';\r\n\r\n      let scala;\r\n      if (this.props.media === 'images-interactive') {\r\n         scala = <ImageInteractivePractice primcolor={primary} seccolor={secondary} discolor={disabled} dislabel={dislabel} suffix='mtfr' probdata={this.state.data} pnum={this.state.PNUM} audio_abbrev={audio_abbrev} clickData={clickData} />\r\n      }\r\n      return (\r\n      <div>\r\n      {scala}\r\n      </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default App;\r\n","import React, {Component} from 'react';\r\nimport $ from 'jquery';\r\n\r\nclass Scorer extends Component {\r\n   constructor() {\r\n      super();\r\n      this.state = {pointTotal : null};\r\n   }\r\n   componentDidMount() {\r\n      this.setState({pointTotal : this.props.pointtotal});\r\n   }\r\n   render() {\r\n   let displayClass, currentClickData, prefix, displayPoints;\r\n\r\n   currentClickData = this.props.clickData;\r\n\r\n   if (this.props.curmode === 'learn') {\r\n   let clicked = this.props.clickData.learn[`step${this.props.order}`];\r\n   if (clicked) {displayClass = ''; prefix = ''; displayPoints = this.props.clickData.learn[`step${this.props.order}`];}\r\n   else if (this.props.curbut - 1 === this.props.order) {\r\n      displayClass = 'uk-animation-slide-right-small';\r\n      displayPoints = this.props.points;\r\n      currentClickData.learn[`step${this.props.order}`] = this.props.points;\r\n      currentClickData.score += this.props.points;\r\n      prefix = '+';\r\n      let ding;\r\n      if (this.props.curbut - 1 === 1) ding = document.getElementById('doneprob1');\r\n      else if (this.props.curbut - 1 === 2) ding = document.getElementById('doneprob3');\r\n      else if (this.props.curbut - 1 === 3) ding = document.getElementById('doneprob5');\r\n      else if (this.props.curbut - 1 >= 4) ding = document.getElementById('doneprob6');\r\n      ding.volume = 0.1;\r\n      ding.play();\r\n   }\r\n   else {displayClass = 'rewardHidden'; prefix=''; displayPoints = '';}\r\n   }\r\n\r\n   else if (this.props.curmode === 'test' && this.props.testnum % this.props.pnum !== 0) {\r\n   let tnum = this.props.testnum % this.props.pnum;\r\n\r\n   let clicked = this.props.clickData[`test${tnum}`][`step${this.props.order}`];\r\n   if (clicked) {displayClass = 'uk-animation-slide-right-small'; prefix = ''; displayPoints = this.props.clickData[`test${tnum}`][`step${this.props.order}`];}\r\n   else if (this.props.curans - 1 === this.props.order) {\r\n      displayClass = 'uk-animation-slide-right-small';\r\n      displayPoints = this.props.points;\r\n      currentClickData[`test${tnum}`][`step${this.props.order}`] = this.props.points;\r\n      currentClickData.score += this.props.points;\r\n      prefix = '+';\r\n      let ding;\r\n      if (this.props.curans - 1 === 1) ding = document.getElementById('doneprob1');\r\n      else if (this.props.curans - 1 === 2) ding = document.getElementById('doneprob3');\r\n      else if (this.props.curans - 1 === 3) ding = document.getElementById('doneprob5');\r\n      else if (this.props.curans - 1 >= 4) ding = document.getElementById('doneprob6');\r\n      ding.volume = 0.1;\r\n      ding.play();\r\n   }\r\n   else {displayClass = 'rewardHidden'; prefix = ''; displayPoints = '';}\r\n   }\r\n\r\n   else if (this.props.curmode === 'test' && this.props.testnum % this.props.pnum === 0) {\r\n      displayClass = 'rewardHidden';\r\n      prefix = '';\r\n      displayPoints = '';\r\n      if (this.props.curans - 1 === this.props.order) {\r\n      let ding;\r\n      if (this.props.curans - 1 === 1) ding = document.getElementById('doneprob1');\r\n      else if (this.props.curans - 1 === 2) ding = document.getElementById('doneprob3');\r\n      else if (this.props.curans - 1 === 3) ding = document.getElementById('doneprob5');\r\n      else if (this.props.curans - 1 >= 4) ding = document.getElementById('doneprob6');\r\n        ding.volume = 0.1;\r\n        ding.play();\r\n      }\r\n   }\r\n\r\n   localStorage.setItem(this.props.abbrev, JSON.stringify(currentClickData));\r\n   $('#progressbar').animate({'height' : `${currentClickData.score / this.state.pointTotal * 100}%`});\r\n\r\n   return (\r\n      <>\r\n      <span className={this.props.curmode === 'learn' ? `rewardLearn ${displayClass}` : `rewardTest ${displayClass}`}>\r\n      {`${prefix}${displayPoints}`}\r\n      </span>\r\n      </>\r\n   );\r\n   }\r\n}\r\n\r\nexport default Scorer;\r\n","import React, {Component} from 'react';\r\nimport $ from 'jquery';\r\nimport Scorer from './Scorer';\r\n\r\nclass StepCard extends Component {\r\n   constructor() {\r\n      super();\r\n      this.state = {};\r\n   }\r\n   componentDidMount() {\r\n      $(`#steptext${this.props.order}`).html(this.props.text);\r\n   }\r\n   render() {\r\n      let cardStyle, labelStyle, arrowStyle, textStyle, icon, repicon, repStyle;\r\n      if (this.props.curmode === 'learn') {\r\n        icon = '';\r\n        repicon = '';\r\n        if (this.props.order < this.props.curbut) {\r\n        cardStyle = {pointerEvents : 'none', backgroundColor : 'white', color : 'black'};\r\n        labelStyle = {backgroundColor : this.props.primcolor};\r\n        }\r\n        else if (this.props.order === this.props.curbut) {\r\n        cardStyle = {pointerEvents : 'all', backgroundColor : this.props.discolor, color : 'gray'};\r\n        labelStyle = {backgroundColor : this.props.dislabel};\r\n        textStyle = {filter : 'blur(3px)'};\r\n        }\r\n        else {\r\n        cardStyle = {pointerEvents : 'none', backgroundColor : this.props.discolor, color : 'gray'};\r\n        labelStyle = {backgroundColor : this.props.dislabel};\r\n        textStyle = {filter : 'blur(3px)'};\r\n        }\r\n        if (this.props.order === this.props.curbut-1 && this.props.curbut > 1) {\r\n           arrowStyle = repStyle = {visibility : 'visible', cursor : 'pointer', pointerEvents : 'all'}\r\n        }\r\n        else {\r\n           arrowStyle = repStyle = {visibility : 'hidden', cursor : 'none', pointerEvents : 'none'}\r\n        }\r\n      }\r\n      else {\r\n        arrowStyle = {visibility : 'visible', cursor : 'none', pointerEvents : 'none'};\r\n        repStyle = {visibility : 'hidden', cursor : 'none', pointerEvents : 'none'};\r\n        if (this.props.order > this.props.curmark) {\r\n        cardStyle = {pointerEvents : 'none', backgroundColor : this.props.discolor, color : 'gray'};\r\n        labelStyle = {backgroundColor : this.props.dislabel};\r\n        textStyle = {filter : 'blur(3px)'};\r\n        icon = '';\r\n        }\r\n        else if (this.props.order === this.props.curmark) {\r\n        cardStyle = {pointerEvents : 'auto', backgroundColor : 'white', color : 'black'};\r\n        labelStyle = {backgroundColor : this.props.primcolor};\r\n        icon = '';\r\n        }\r\n        else {\r\n        cardStyle = {pointerEvents : 'none', backgroundColor : 'white'};\r\n        labelStyle = {backgroundColor : this.props.primcolor};\r\n        icon = '';\r\n        }\r\n      }\r\n      return (\r\n      <div className={`uk-card uk-card-default uk-card-body uk-card-small uk-width-1-1@m ${this.props.margbot}`} id={`card${this.props.order}`} onClick={this.props.handler} style={cardStyle}>\r\n      <div>\r\n      <span className='arrow' onClick={this.props.upone} style={arrowStyle}>{icon}</span>\r\n      <span className='reparrow' onClick={this.props.repstep} style={repStyle}>{repicon}</span><span className=\"uk-label\" style={labelStyle}>{this.props.label}</span>\r\n      <Scorer points={this.props.curmode === 'test' ? this.props.testpointsper : this.props.learnpointsper} curmode={this.props.curmode} order={this.props.order} curbut={this.props.curbut} curans={this.props.curans} clickData={this.props.clickData} abbrev={this.props.abbrev} testnum={this.props.testnum} pnum={this.props.pnum} probdata={this.props.probdata} pointtotal={this.props.probdata[0].fields.pointTotal} />\r\n      <p className='step-text' id={`steptext${this.props.order}`} style={textStyle}>{this.props.text}</p>\r\n      {this.props.multbuts}\r\n      </div>\r\n      </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default StepCard;\r\n","import React, {Component} from 'react';\r\nimport $ from 'jquery';\r\n\r\nclass Reflect extends Component {\r\n   constructor() {\r\n      super();\r\n      this.state = {response : false, curSimScore : null};\r\n      this.compareAnswers = this.compareAnswers.bind(this);\r\n      this.clearAnswer = this.clearAnswer.bind(this);\r\n   }\r\n   compareAnswers() {\r\n      let stuAnswer = $('#reflectQuestion').val();\r\n      let sugAnswer = this.props.suganswer;\r\n      let score;\r\n      $('#reflectQuestion').val('');\r\n\r\n      const Http = new XMLHttpRequest();\r\n      const url=`https://api.dandelion.eu/datatxt/sim/v1/?text1=${stuAnswer}&text2=${sugAnswer}&token=a4afc7d8c8c74f53820d3691f00c731d`;\r\n      Http.open(\"GET\", url);\r\n      Http.send();\r\n\r\n      Http.onreadystatechange = (e) => {\r\n      let start = Http.responseText.indexOf('similarity') + 12;\r\n      let end = Http.responseText.indexOf('\"lang\":');\r\n      let response = Http.responseText.slice(start, end - 1);\r\n      score = (Number(response) * 100).toFixed(2);\r\n\r\n      if (isNaN(score)) score = 0;\r\n      $('#modal-score').text(`Score: ${score} points out of 100.`);\r\n      $('#stu-answer').html(`<strong>Your answer</strong><br /><i>${stuAnswer}</i>`);\r\n      $('#sug-answer').html(`<strong>Suggested answer</strong><br />${sugAnswer}`);\r\n      }\r\n      this.setState({response : true});\r\n   }\r\n   clearAnswer() {\r\n      $('#reflectQuestion').val('');\r\n      this.setState({response : false});\r\n   }\r\n   render() {\r\n      return (\r\n      <div>\r\n      <textarea id='reflectQuestion' placeholder={this.props.reflectQ} className='uk-width-1-1@m' style={{width : '81%', marginBottom : 10, resize : 'none', fontSize : '0.8em', minHeight : '8vh', border : 'none', boxSizing : 'border-box',\r\n      padding : '5px 5px 5px 10px', outline : 'none'}} /><button onClick={this.compareAnswers} className='uk-button uk-button-default uk-button-small' uk-toggle=\"target: #modal-reflect\" style={{minHeight : '8vh', float : 'right', borderTopRightRadius : 5, borderBottomRightRadius : 5, boxShadow : '0 0 3px #aaa',\r\n      border : 'none', width : '15%', display : 'flex', alignItems : 'center', justifyContent : 'center', backgroundColor : 'white', fontSize : '1.2vmax'}}>check</button>\r\n\r\n      <div id=\"modal-reflect\" uk-modal='true'>\r\n      <div className=\"uk-modal-dialog uk-modal-body uk-overflow-auto\">\r\n      <button className=\"uk-modal-close-default\" type=\"button\" uk-close='true' onClick={this.clearAnswer}></button>\r\n      <h4 className=\"uk-modal-title\" id='modal-score'> </h4>\r\n      <p className='uk-text-justify' id='stu-answer'></p>\r\n      <p className='uk-text-justify' id='sug-answer'></p>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Reflect;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App media='images-interactive' />, document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}